; Listing generated by Microsoft (R) Optimizing Compiler Version 13.10.3077 

	TITLE	.\source\editzone.cpp
	.386P
include listing.inc
if @Version gt 510
.model FLAT
else
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
$$SYMBOLS	SEGMENT BYTE USE32 'DEBSYM'
$$SYMBOLS	ENDS
$$TYPES	SEGMENT BYTE USE32 'DEBTYP'
$$TYPES	ENDS
_TLS	SEGMENT DWORD USE32 PUBLIC 'TLS'
_TLS	ENDS
;	COMDAT ??_C@_03IDDGKHFD@X?5Y?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_03KIBLPEJA@X?5Z?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_03CJDPGPNI@Z?5Y?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_01MMEEDKFM@X?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_01NFFPALBN@Y?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_01POHCFINO@Z?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_06JCBBMBIP@Camera?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_05MFLOHCHP@World?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0IN@IENOAFGH@c?3?2documents?5and?5settings?2jarhea@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0CJ@OKDINPNA@Can?8t?5alloc?5memory?5for?5file?5trac@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_02JDPG@rb?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_02GMLFBBN@wb?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_03FDNJOMNA@ta?9?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BH@BKAAGLHN@Saved?5Track?5Zone?5File?3?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_03KGCDCHED@taz?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_02DPKJAMEF@?$CFd?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_05FEDMHOOH@ID?5?$CFd?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0N@MOINFLNL@Axis?5?$CFs?5?9?5?$CFs?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_03JJNBAPG@Yep?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_04PBCAPOCN@Nope?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BA@MOFAIBHL@Big?5Brother?3?5?$CFs?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_07NPMMOABF@Zone?5?$CFd?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT _IsEqualGUID
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _==
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _acosl
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _asinl
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _atanl
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _atan2l
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _ceill
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _cosl
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _coshl
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _expl
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _fabsl
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _floorl
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _fmodl
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _frexpl
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _ldexpl
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _logl
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _log10l
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _modfl
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _powl
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _sinl
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _sinhl
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _sqrtl
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _tanl
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _tanhl
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _frexpf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _ldexpf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _acosf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _asinf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _atanf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _atan2f
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _ceilf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _cosf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _coshf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _expf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _fabsf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _floorf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _fmodf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _logf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _log10f
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _modff
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _powf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _sinf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _sinhf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _sqrtf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _tanf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _tanhf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?sqrt@@YAMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?InitFileZones@@YAXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?KillFileZones@@YAXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?LoadFileZones@@YAXPAD@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?SaveFileZones@@YAXPAD@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?AllocFileZone@@YAPAUFILE_ZONE@@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?FreeFileZone@@YAXPAUFILE_ZONE@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?EditFileZones@@YAXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?DrawFileZones@@YAXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?DisplayZoneInfo@@YAXPAUFILE_ZONE@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?DisplayCurrentTrackZone@@YAXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Pow_int@N@@YANNH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Pow_int@H@@YAHHH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Pow_int@M@@YAMMH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??$_Pow_int@O@@YAOOH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?__LINE__Var@?1??KillFileZones@@YAXXZ@4JA
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ?__LINE__Var@?1??InitFileZones@@YAXXZ@4JA
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
sxdata	SEGMENT DWORD USE32 'SXDATA'
sxdata	ENDS
FLAT	GROUP _DATA, CONST, _BSS
	ASSUME	CS: FLAT, DS: FLAT, SS: FLAT
endif

INCLUDELIB LIBCD
INCLUDELIB OLDNAMES

PUBLIC	?CurrentFileZone@@3PAUFILE_ZONE@@A		; CurrentFileZone
PUBLIC	??_C@_03IDDGKHFD@X?5Y?$AA@			; `string'
PUBLIC	??_C@_03KIBLPEJA@X?5Z?$AA@			; `string'
PUBLIC	??_C@_03CJDPGPNI@Z?5Y?$AA@			; `string'
PUBLIC	??_C@_01MMEEDKFM@X?$AA@				; `string'
PUBLIC	??_C@_01NFFPALBN@Y?$AA@				; `string'
PUBLIC	??_C@_01POHCFINO@Z?$AA@				; `string'
PUBLIC	??_C@_06JCBBMBIP@Camera?$AA@			; `string'
PUBLIC	??_C@_05MFLOHCHP@World?$AA@			; `string'
_BSS	SEGMENT
?CurrentFileZone@@3PAUFILE_ZONE@@A DD 01H DUP (?)	; CurrentFileZone
_BSS	ENDS
;	COMDAT ??_C@_03IDDGKHFD@X?5Y?$AA@
CONST	SEGMENT
??_C@_03IDDGKHFD@X?5Y?$AA@ DB 'X Y', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_03KIBLPEJA@X?5Z?$AA@
CONST	SEGMENT
??_C@_03KIBLPEJA@X?5Z?$AA@ DB 'X Z', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_03CJDPGPNI@Z?5Y?$AA@
CONST	SEGMENT
??_C@_03CJDPGPNI@Z?5Y?$AA@ DB 'Z Y', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_01MMEEDKFM@X?$AA@
CONST	SEGMENT
??_C@_01MMEEDKFM@X?$AA@ DB 'X', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_01NFFPALBN@Y?$AA@
CONST	SEGMENT
??_C@_01NFFPALBN@Y?$AA@ DB 'Y', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_01POHCFINO@Z?$AA@
CONST	SEGMENT
??_C@_01POHCFINO@Z?$AA@ DB 'Z', 00H			; `string'
CONST	ENDS
_DATA	SEGMENT
_FileZoneAxisNames DD FLAT:??_C@_03IDDGKHFD@X?5Y?$AA@
	DD	FLAT:??_C@_03KIBLPEJA@X?5Z?$AA@
	DD	FLAT:??_C@_03CJDPGPNI@Z?5Y?$AA@
	DD	FLAT:??_C@_01MMEEDKFM@X?$AA@
	DD	FLAT:??_C@_01NFFPALBN@Y?$AA@
	DD	FLAT:??_C@_01POHCFINO@Z?$AA@
_DATA	ENDS
;	COMDAT ??_C@_06JCBBMBIP@Camera?$AA@
CONST	SEGMENT
??_C@_06JCBBMBIP@Camera?$AA@ DB 'Camera', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_05MFLOHCHP@World?$AA@
CONST	SEGMENT
??_C@_05MFLOHCHP@World?$AA@ DB 'World', 00H		; `string'
CONST	ENDS
_DATA	SEGMENT
_FileZoneAxisTypeNames DD FLAT:??_C@_06JCBBMBIP@Camera?$AA@
	DD	FLAT:??_C@_05MFLOHCHP@World?$AA@
_DrawZoneIndex DW 01H
	DW	03H
	DW	07H
	DW	05H
	DW	02H
	DW	00H
	DW	04H
	DW	06H
	DW	04H
	DW	05H
	DW	07H
	DW	06H
	DW	00H
	DW	02H
	DW	03H
	DW	01H
	DW	03H
	DW	02H
	DW	06H
	DW	07H
	DW	00H
	DW	01H
	DW	05H
	DW	04H
_DrawZoneCol DD	080ff0000H
	DD	08000ff00H
	DD	0800000ffH
	DD	080ffff00H
	DD	080ff00ffH
	DD	08000ffffH
_DATA	ENDS
PUBLIC	?InitFileZones@@YAXXZ				; InitFileZones
PUBLIC	?__LINE__Var@?1??InitFileZones@@YAXXZ@4JA	; `InitFileZones'::`2'::__LINE__Var
PUBLIC	??_C@_0IN@IENOAFGH@c?3?2documents?5and?5settings?2jarhea@ ; `string'
PUBLIC	??_C@_0CJ@OKDINPNA@Can?8t?5alloc?5memory?5for?5file?5trac@ ; `string'
EXTRN	?Box@@YAJPAD0J@Z:NEAR				; Box
EXTRN	?QuitGame@@3DA:BYTE				; QuitGame
EXTRN	?DebugMalloc@@YAPAXIHPAD@Z:NEAR			; DebugMalloc
_BSS	SEGMENT
_FileZone DD	01H DUP (?)
_BSS	ENDS
;	COMDAT ??_C@_0IN@IENOAFGH@c?3?2documents?5and?5settings?2jarhea@
; File c:\documents and settings\jarhead\desktop\shit to display my love for xbox revolt and fuck you borman-ness\revolt source\source\editzone.cpp
CONST	SEGMENT
??_C@_0IN@IENOAFGH@c?3?2documents?5and?5settings?2jarhea@ DB 'c:\document'
	DB	's and settings\jarhead\desktop\shit to display my love for xb'
	DB	'ox revolt and fuck you borman-ness\revolt source\source\editz'
	DB	'one.cpp', 00H				; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??InitFileZones@@YAXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?1??InitFileZones@@YAXXZ@4JA DD 044H	; `InitFileZones'::`2'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CJ@OKDINPNA@Can?8t?5alloc?5memory?5for?5file?5trac@
CONST	SEGMENT
??_C@_0CJ@OKDINPNA@Can?8t?5alloc?5memory?5for?5file?5trac@ DB 'Can''t all'
	DB	'oc memory for file track zones!', 00H	; `string'
; Function compile flags: /Odt /ZI
CONST	ENDS
;	COMDAT ?InitFileZones@@YAXXZ
_TEXT	SEGMENT
?InitFileZones@@YAXXZ PROC NEAR				; InitFileZones, COMDAT

; 68   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 64					; 00000040H
	push	ebx
	push	esi
	push	edi

; 69   : 	FileZone = (FILE_ZONE*)malloc(sizeof(FILE_ZONE) * MAX_FILE_ZONES);

	push	OFFSET FLAT:??_C@_0IN@IENOAFGH@c?3?2documents?5and?5settings?2jarhea@
	mov	eax, DWORD PTR ?__LINE__Var@?1??InitFileZones@@YAXXZ@4JA
	add	eax, 1
	push	eax
	push	8192					; 00002000H
	call	?DebugMalloc@@YAPAXIHPAD@Z		; DebugMalloc
	add	esp, 12					; 0000000cH
	mov	DWORD PTR _FileZone, eax

; 70   : 	if (!FileZone)

	cmp	DWORD PTR _FileZone, 0
	jne	SHORT $L81527

; 71   : 	{
; 72   : 		Box(NULL, "Can't alloc memory for file track zones!", MB_OK);

	push	0
	push	OFFSET FLAT:??_C@_0CJ@OKDINPNA@Can?8t?5alloc?5memory?5for?5file?5trac@
	push	0
	call	?Box@@YAJPAD0J@Z			; Box
	add	esp, 12					; 0000000cH

; 73   : 		QuitGame = TRUE;

	mov	BYTE PTR ?QuitGame@@3DA, 1		; QuitGame
$L81527:

; 74   : 	}
; 75   : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
?InitFileZones@@YAXXZ ENDP				; InitFileZones
_TEXT	ENDS
PUBLIC	?KillFileZones@@YAXXZ				; KillFileZones
PUBLIC	?__LINE__Var@?1??KillFileZones@@YAXXZ@4JA	; `KillFileZones'::`2'::__LINE__Var
EXTRN	?DebugFree@@YAXPAXHPAD@Z:NEAR			; DebugFree
;	COMDAT ?__LINE__Var@?1??KillFileZones@@YAXXZ@4JA
_DATA	SEGMENT
?__LINE__Var@?1??KillFileZones@@YAXXZ@4JA DD 052H	; `KillFileZones'::`2'::__LINE__Var
; Function compile flags: /Odt /ZI
_DATA	ENDS
;	COMDAT ?KillFileZones@@YAXXZ
_TEXT	SEGMENT
?KillFileZones@@YAXXZ PROC NEAR				; KillFileZones, COMDAT

; 82   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 64					; 00000040H
	push	ebx
	push	esi
	push	edi

; 83   : 	free(FileZone);

	push	OFFSET FLAT:??_C@_0IN@IENOAFGH@c?3?2documents?5and?5settings?2jarhea@
	mov	eax, DWORD PTR ?__LINE__Var@?1??KillFileZones@@YAXXZ@4JA
	add	eax, 1
	push	eax
	mov	ecx, DWORD PTR _FileZone
	push	ecx
	call	?DebugFree@@YAXPAXHPAD@Z		; DebugFree
	add	esp, 12					; 0000000cH

; 84   : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
?KillFileZones@@YAXXZ ENDP				; KillFileZones
_TEXT	ENDS
PUBLIC	?LoadFileZones@@YAXPAD@Z			; LoadFileZones
PUBLIC	??_C@_02JDPG@rb?$AA@				; `string'
PUBLIC	??_C@_02GMLFBBN@wb?$AA@				; `string'
EXTRN	__fltused:NEAR
EXTRN	_fclose:NEAR
EXTRN	_fopen:NEAR
EXTRN	_fread:NEAR
EXTRN	_fwrite:NEAR
EXTRN	?EditScale@@3MA:DWORD				; EditScale
_BSS	SEGMENT
_FileZoneNum DD	01H DUP (?)
_BSS	ENDS
;	COMDAT ??_C@_02JDPG@rb?$AA@
CONST	SEGMENT
??_C@_02JDPG@rb?$AA@ DB 'rb', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_02GMLFBBN@wb?$AA@
CONST	SEGMENT
??_C@_02GMLFBBN@wb?$AA@ DB 'wb', 00H			; `string'
; Function compile flags: /Odt /ZI
CONST	ENDS
;	COMDAT ?LoadFileZones@@YAXPAD@Z
_TEXT	SEGMENT
_taz$ = -72						; size = 64
_fp$ = -8						; size = 4
_i$ = -4						; size = 4
_file$ = 8						; size = 4
?LoadFileZones@@YAXPAD@Z PROC NEAR			; LoadFileZones, COMDAT

; 91   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 136				; 00000088H
	push	ebx
	push	esi
	push	edi

; 92   : 	long i;
; 93   : 	FILE *fp;
; 94   : 	FILE_ZONE taz;
; 95   : 
; 96   : // open file
; 97   : 
; 98   : 	fp = fopen(file, "rb");

	push	OFFSET FLAT:??_C@_02JDPG@rb?$AA@
	mov	eax, DWORD PTR _file$[ebp]
	push	eax
	call	_fopen
	add	esp, 8
	mov	DWORD PTR _fp$[ebp], eax

; 99   : 
; 100  : // if not there create empty one
; 101  : 
; 102  : 	if (!fp)

	cmp	DWORD PTR _fp$[ebp], 0
	jne	SHORT $L81545

; 103  : 	{
; 104  : 		fp = fopen(file, "wb");

	push	OFFSET FLAT:??_C@_02GMLFBBN@wb?$AA@
	mov	eax, DWORD PTR _file$[ebp]
	push	eax
	call	_fopen
	add	esp, 8
	mov	DWORD PTR _fp$[ebp], eax

; 105  : 		if (!fp) return;

	cmp	DWORD PTR _fp$[ebp], 0
	jne	SHORT $L81547
	jmp	$L81540
$L81547:

; 106  : 		i = 0;

	mov	DWORD PTR _i$[ebp], 0

; 107  : 		fwrite(&i, sizeof(i), 1, fp);

	mov	eax, DWORD PTR _fp$[ebp]
	push	eax
	push	1
	push	4
	lea	ecx, DWORD PTR _i$[ebp]
	push	ecx
	call	_fwrite
	add	esp, 16					; 00000010H

; 108  : 		fclose(fp);

	mov	eax, DWORD PTR _fp$[ebp]
	push	eax
	call	_fclose
	add	esp, 4

; 109  : 		fp = fopen(file, "rb");

	push	OFFSET FLAT:??_C@_02JDPG@rb?$AA@
	mov	eax, DWORD PTR _file$[ebp]
	push	eax
	call	_fopen
	add	esp, 8
	mov	DWORD PTR _fp$[ebp], eax

; 110  : 		if (!fp) return;

	cmp	DWORD PTR _fp$[ebp], 0
	jne	SHORT $L81545
	jmp	$L81540
$L81545:

; 111  : 	}
; 112  : 
; 113  : // loop thru all zones
; 114  : 
; 115  : 	fread(&FileZoneNum, sizeof(FileZoneNum), 1, fp);

	mov	eax, DWORD PTR _fp$[ebp]
	push	eax
	push	1
	push	4
	push	OFFSET FLAT:_FileZoneNum
	call	_fread
	add	esp, 16					; 00000010H

; 116  : 
; 117  : 	for (i = 0 ; i < FileZoneNum ; i++)

	mov	DWORD PTR _i$[ebp], 0
	jmp	SHORT $L81549
$L81550:
	mov	eax, DWORD PTR _i$[ebp]
	add	eax, 1
	mov	DWORD PTR _i$[ebp], eax
$L81549:
	mov	eax, DWORD PTR _i$[ebp]
	cmp	eax, DWORD PTR _FileZoneNum
	jge	SHORT $L81551

; 118  : 	{
; 119  : 
; 120  : // load one file zone
; 121  : 
; 122  : 		fread(&taz, sizeof(taz), 1, fp);

	mov	eax, DWORD PTR _fp$[ebp]
	push	eax
	push	1
	push	64					; 00000040H
	lea	ecx, DWORD PTR _taz$[ebp]
	push	ecx
	call	_fread
	add	esp, 16					; 00000010H

; 123  : 
; 124  : 		VecMulScalar(&taz.Pos, EditScale);

	fld	DWORD PTR _taz$[ebp+4]
	fmul	DWORD PTR ?EditScale@@3MA		; EditScale
	fstp	DWORD PTR _taz$[ebp+4]
	fld	DWORD PTR _taz$[ebp+8]
	fmul	DWORD PTR ?EditScale@@3MA		; EditScale
	fstp	DWORD PTR _taz$[ebp+8]
	fld	DWORD PTR _taz$[ebp+12]
	fmul	DWORD PTR ?EditScale@@3MA		; EditScale
	fstp	DWORD PTR _taz$[ebp+12]

; 125  : 		VecMulScalar((VEC*)taz.Size, EditScale);

	fld	DWORD PTR _taz$[ebp+52]
	fmul	DWORD PTR ?EditScale@@3MA		; EditScale
	fstp	DWORD PTR _taz$[ebp+52]
	fld	DWORD PTR _taz$[ebp+56]
	fmul	DWORD PTR ?EditScale@@3MA		; EditScale
	fstp	DWORD PTR _taz$[ebp+56]
	fld	DWORD PTR _taz$[ebp+60]
	fmul	DWORD PTR ?EditScale@@3MA		; EditScale
	fstp	DWORD PTR _taz$[ebp+60]

; 126  : 
; 127  : // setup edit file zone
; 128  : 
; 129  : 		FileZone[i] = taz;

	mov	edi, DWORD PTR _i$[ebp]
	shl	edi, 6
	add	edi, DWORD PTR _FileZone
	mov	ecx, 16					; 00000010H
	lea	esi, DWORD PTR _taz$[ebp]
	rep movsd

; 130  : 	}

	jmp	$L81550
$L81551:

; 131  : 
; 132  : // close file
; 133  : 
; 134  : 	fclose(fp);

	mov	eax, DWORD PTR _fp$[ebp]
	push	eax
	call	_fclose
	add	esp, 4
$L81540:

; 135  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
?LoadFileZones@@YAXPAD@Z ENDP				; LoadFileZones
_TEXT	ENDS
PUBLIC	?SaveFileZones@@YAXPAD@Z			; SaveFileZones
PUBLIC	??_C@_03FDNJOMNA@ta?9?$AA@			; `string'
PUBLIC	??_C@_0BH@BKAAGLHN@Saved?5Track?5Zone?5File?3?$AA@ ; `string'
EXTRN	_remove:NEAR
EXTRN	_rename:NEAR
EXTRN	_memcpy:NEAR
EXTRN	_strlen:NEAR
EXTRN	__imp__wsprintfA:NEAR
;	COMDAT ??_C@_03FDNJOMNA@ta?9?$AA@
CONST	SEGMENT
??_C@_03FDNJOMNA@ta?9?$AA@ DB 'ta-', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@BKAAGLHN@Saved?5Track?5Zone?5File?3?$AA@
CONST	SEGMENT
??_C@_0BH@BKAAGLHN@Saved?5Track?5Zone?5File?3?$AA@ DB 'Saved Track Zone F'
	DB	'ile:', 00H					; `string'
; Function compile flags: /Odt /ZI
CONST	ENDS
;	COMDAT ?SaveFileZones@@YAXPAD@Z
_TEXT	SEGMENT
_bak$ = -328						; size = 256
_taz$ = -72						; size = 64
_fp$ = -8						; size = 4
_i$ = -4						; size = 4
_file$ = 8						; size = 4
?SaveFileZones@@YAXPAD@Z PROC NEAR			; SaveFileZones, COMDAT

; 142  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 392				; 00000188H
	push	ebx
	push	esi
	push	edi

; 143  : 	long i;
; 144  : 	FILE *fp;
; 145  : 	FILE_ZONE taz;
; 146  : 	char bak[256];
; 147  : 
; 148  : // backup old file
; 149  : 
; 150  : 	memcpy(bak, file, strlen(file) - 3);

	mov	eax, DWORD PTR _file$[ebp]
	push	eax
	call	_strlen
	add	esp, 4
	sub	eax, 3
	push	eax
	mov	ecx, DWORD PTR _file$[ebp]
	push	ecx
	lea	edx, DWORD PTR _bak$[ebp]
	push	edx
	call	_memcpy
	add	esp, 12					; 0000000cH

; 151  : 	wsprintf(bak + strlen(file) - 3, "ta-");

	push	OFFSET FLAT:??_C@_03FDNJOMNA@ta?9?$AA@
	mov	eax, DWORD PTR _file$[ebp]
	push	eax
	call	_strlen
	add	esp, 4
	lea	ecx, DWORD PTR _bak$[ebp+eax-3]
	push	ecx
	call	DWORD PTR __imp__wsprintfA
	add	esp, 8

; 152  : 	remove(bak);

	lea	eax, DWORD PTR _bak$[ebp]
	push	eax
	call	_remove
	add	esp, 4

; 153  : 	rename(file, bak);

	lea	eax, DWORD PTR _bak$[ebp]
	push	eax
	mov	ecx, DWORD PTR _file$[ebp]
	push	ecx
	call	_rename
	add	esp, 8

; 154  : 
; 155  : // open zone file
; 156  : 
; 157  : 	fp = fopen(file, "wb");

	push	OFFSET FLAT:??_C@_02GMLFBBN@wb?$AA@
	mov	eax, DWORD PTR _file$[ebp]
	push	eax
	call	_fopen
	add	esp, 8
	mov	DWORD PTR _fp$[ebp], eax

; 158  : 	if (!fp) return;

	cmp	DWORD PTR _fp$[ebp], 0
	jne	SHORT $L81563
	jmp	SHORT $L81557
$L81563:

; 159  : 
; 160  : // write num
; 161  : 
; 162  : 	fwrite(&FileZoneNum, sizeof(FileZoneNum), 1, fp);

	mov	eax, DWORD PTR _fp$[ebp]
	push	eax
	push	1
	push	4
	push	OFFSET FLAT:_FileZoneNum
	call	_fwrite
	add	esp, 16					; 00000010H

; 163  : 
; 164  : // write out each zone
; 165  : 
; 166  : 	for (i = 0 ; i < FileZoneNum ; i++)

	mov	DWORD PTR _i$[ebp], 0
	jmp	SHORT $L81564
$L81565:
	mov	eax, DWORD PTR _i$[ebp]
	add	eax, 1
	mov	DWORD PTR _i$[ebp], eax
$L81564:
	mov	eax, DWORD PTR _i$[ebp]
	cmp	eax, DWORD PTR _FileZoneNum
	jge	SHORT $L81566

; 167  : 	{
; 168  : 
; 169  : // set file zone
; 170  : 
; 171  : 		taz = FileZone[i];

	mov	esi, DWORD PTR _i$[ebp]
	shl	esi, 6
	add	esi, DWORD PTR _FileZone
	mov	ecx, 16					; 00000010H
	lea	edi, DWORD PTR _taz$[ebp]
	rep movsd

; 172  : 
; 173  : // write it
; 174  : 
; 175  : 		fwrite(&taz, sizeof(taz), 1, fp);

	mov	eax, DWORD PTR _fp$[ebp]
	push	eax
	push	1
	push	64					; 00000040H
	lea	ecx, DWORD PTR _taz$[ebp]
	push	ecx
	call	_fwrite
	add	esp, 16					; 00000010H

; 176  : 	}

	jmp	SHORT $L81565
$L81566:

; 177  : 
; 178  : // close file
; 179  : 
; 180  : 	Box("Saved Track Zone File:", file, MB_OK);

	push	0
	mov	eax, DWORD PTR _file$[ebp]
	push	eax
	push	OFFSET FLAT:??_C@_0BH@BKAAGLHN@Saved?5Track?5Zone?5File?3?$AA@
	call	?Box@@YAJPAD0J@Z			; Box
	add	esp, 12					; 0000000cH

; 181  : 	fclose(fp);

	mov	eax, DWORD PTR _fp$[ebp]
	push	eax
	call	_fclose
	add	esp, 4
$L81557:

; 182  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
?SaveFileZones@@YAXPAD@Z ENDP				; SaveFileZones
_TEXT	ENDS
PUBLIC	?AllocFileZone@@YAPAUFILE_ZONE@@XZ		; AllocFileZone
; Function compile flags: /Odt /ZI
;	COMDAT ?AllocFileZone@@YAPAUFILE_ZONE@@XZ
_TEXT	SEGMENT
tv68 = -68						; size = 4
?AllocFileZone@@YAPAUFILE_ZONE@@XZ PROC NEAR		; AllocFileZone, COMDAT

; 189  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 68					; 00000044H
	push	ebx
	push	esi
	push	edi

; 190  : 
; 191  : // full?
; 192  : 
; 193  : 	if (FileZoneNum >= MAX_FILE_ZONES)

	cmp	DWORD PTR _FileZoneNum, 128		; 00000080H
	jl	SHORT $L81571

; 194  : 		return NULL;

	xor	eax, eax
	jmp	SHORT $L81570
$L81571:

; 195  : 
; 196  : // inc counter, return slot
; 197  : 
; 198  : 	return &FileZone[FileZoneNum++];

	mov	eax, DWORD PTR _FileZoneNum
	shl	eax, 6
	add	eax, DWORD PTR _FileZone
	mov	DWORD PTR tv68[ebp], eax
	mov	ecx, DWORD PTR _FileZoneNum
	add	ecx, 1
	mov	DWORD PTR _FileZoneNum, ecx
	mov	eax, DWORD PTR tv68[ebp]
$L81570:

; 199  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
?AllocFileZone@@YAPAUFILE_ZONE@@XZ ENDP			; AllocFileZone
_TEXT	ENDS
PUBLIC	?FreeFileZone@@YAXPAUFILE_ZONE@@@Z		; FreeFileZone
; Function compile flags: /Odt /ZI
;	COMDAT ?FreeFileZone@@YAXPAUFILE_ZONE@@@Z
_TEXT	SEGMENT
_i$ = -8						; size = 4
_idx$ = -4						; size = 4
_zone$ = 8						; size = 4
?FreeFileZone@@YAXPAUFILE_ZONE@@@Z PROC NEAR		; FreeFileZone, COMDAT

; 206  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 72					; 00000048H
	push	ebx
	push	esi
	push	edi

; 207  : 	long idx, i;
; 208  : 
; 209  : // find index into list
; 210  : 
; 211  : 	idx = (long)(zone - FileZone);

	mov	eax, DWORD PTR _zone$[ebp]
	sub	eax, DWORD PTR _FileZone
	sar	eax, 6
	mov	DWORD PTR _idx$[ebp], eax

; 212  : 
; 213  : // copy all higher zones down one
; 214  : 
; 215  : 	for (i = idx ; i < FileZoneNum - 1; i++)

	mov	eax, DWORD PTR _idx$[ebp]
	mov	DWORD PTR _i$[ebp], eax
	jmp	SHORT $L81578
$L81579:
	mov	eax, DWORD PTR _i$[ebp]
	add	eax, 1
	mov	DWORD PTR _i$[ebp], eax
$L81578:
	mov	eax, DWORD PTR _FileZoneNum
	sub	eax, 1
	cmp	DWORD PTR _i$[ebp], eax
	jge	SHORT $L81580

; 216  : 	{
; 217  : 		FileZone[i] = FileZone[i + 1];

	mov	esi, DWORD PTR _i$[ebp]
	add	esi, 1
	shl	esi, 6
	add	esi, DWORD PTR _FileZone
	mov	edi, DWORD PTR _i$[ebp]
	shl	edi, 6
	add	edi, DWORD PTR _FileZone
	mov	ecx, 16					; 00000010H
	rep movsd

; 218  : 	}

	jmp	SHORT $L81579
$L81580:

; 219  : 
; 220  : // dec num
; 221  : 
; 222  : 	FileZoneNum--;

	mov	eax, DWORD PTR _FileZoneNum
	sub	eax, 1
	mov	DWORD PTR _FileZoneNum, eax

; 223  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
?FreeFileZone@@YAXPAUFILE_ZONE@@@Z ENDP			; FreeFileZone
_TEXT	ENDS
PUBLIC	__real@45400000
PUBLIC	__real@3f800000
PUBLIC	__real@43a00000
PUBLIC	__real@43700000
PUBLIC	__real@43000000
PUBLIC	__real@40800000
PUBLIC	__real@c0800000
PUBLIC	__real@00000000
PUBLIC	__real@41800000
PUBLIC	__real@3ba3d70a
PUBLIC	__real@3e800000
PUBLIC	?sqrt@@YAMM@Z					; sqrt
PUBLIC	?EditFileZones@@YAXXZ				; EditFileZones
PUBLIC	??_C@_03KGCDCHED@taz?$AA@			; `string'
EXTRN	?IdentityMatrix@@3TMatrixUnion@@A:BYTE		; IdentityMatrix
EXTRN	?Keys@@3PADA:BYTE				; Keys
EXTRN	?LastKeys@@3PADA:BYTE				; LastKeys
EXTRN	?Mouse@@3U_DIMOUSESTATE@@A:BYTE			; Mouse
EXTRN	?GetLevelFilename@@YAPADPADJ@Z:NEAR		; GetLevelFilename
EXTRN	?TimeFactor@@3MA:DWORD				; TimeFactor
EXTRN	?RenderSettings@@3URENDER_SETTINGS@@A:BYTE	; RenderSettings
EXTRN	?ViewMatrix@@3TMatrixUnion@@A:BYTE		; ViewMatrix
EXTRN	?ViewTrans@@3UVectorStruct@@A:BYTE		; ViewTrans
EXTRN	?MouseXpos@@3MA:DWORD				; MouseXpos
EXTRN	?MouseYpos@@3MA:DWORD				; MouseYpos
EXTRN	?MouseXrel@@3MA:DWORD				; MouseXrel
EXTRN	?MouseYrel@@3MA:DWORD				; MouseYrel
EXTRN	?CameraEditXrel@@3MA:DWORD			; CameraEditXrel
EXTRN	?CameraEditYrel@@3MA:DWORD			; CameraEditYrel
EXTRN	?CameraEditZrel@@3MA:DWORD			; CameraEditZrel
EXTRN	?MouseLeft@@3DA:BYTE				; MouseLeft
EXTRN	?MouseRight@@3DA:BYTE				; MouseRight
EXTRN	?CAM_MainCamera@@3PAUCameraStruct@@A:DWORD	; CAM_MainCamera
EXTRN	?RotMatrixZYX@@YAXPATMatrixUnion@@MMM@Z:NEAR	; RotMatrixZYX
EXTRN	?RotVector@@YAXPATMatrixUnion@@PAUVectorStruct@@1@Z:NEAR ; RotVector
EXTRN	?RotTransVector@@YAXPATMatrixUnion@@PAUVectorStruct@@11@Z:NEAR ; RotTransVector
EXTRN	?MulMatrix@@YAXPATMatrixUnion@@00@Z:NEAR	; MulMatrix
EXTRN	?CopyMatrix@@YAXPATMatrixUnion@@0@Z:NEAR	; CopyMatrix
_BSS	SEGMENT
_ShowNodes DD	01H DUP (?)
_BigBrother DD	01H DUP (?)
_FileZoneAxis DD 01H DUP (?)
_FileZoneAxisType DD 01H DUP (?)
_FileZoneSide DD 01H DUP (?)
_LastFileZoneID DD 01H DUP (?)
_BSS	ENDS
;	COMDAT __real@45400000
CONST	SEGMENT
__real@45400000 DD 045400000r			; 3072
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT ??_C@_03KGCDCHED@taz?$AA@
CONST	SEGMENT
??_C@_03KGCDCHED@taz?$AA@ DB 'taz', 00H			; `string'
CONST	ENDS
;	COMDAT __real@43a00000
CONST	SEGMENT
__real@43a00000 DD 043a00000r			; 320
CONST	ENDS
;	COMDAT __real@43700000
CONST	SEGMENT
__real@43700000 DD 043700000r			; 240
CONST	ENDS
;	COMDAT __real@43000000
CONST	SEGMENT
__real@43000000 DD 043000000r			; 128
CONST	ENDS
;	COMDAT __real@40800000
CONST	SEGMENT
__real@40800000 DD 040800000r			; 4
CONST	ENDS
;	COMDAT __real@c0800000
CONST	SEGMENT
__real@c0800000 DD 0c0800000r			; -4
CONST	ENDS
;	COMDAT __real@00000000
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
CONST	ENDS
;	COMDAT __real@41800000
CONST	SEGMENT
__real@41800000 DD 041800000r			; 16
CONST	ENDS
;	COMDAT __real@3ba3d70a
CONST	SEGMENT
__real@3ba3d70a DD 03ba3d70ar			; 0.005
CONST	ENDS
;	COMDAT __real@3e800000
CONST	SEGMENT
__real@3e800000 DD 03e800000r			; 0.25
; Function compile flags: /Odt /ZI
CONST	ENDS
;	COMDAT ?EditFileZones@@YAXXZ
_TEXT	SEGMENT
tv1761 = -360						; size = 4
tv906 = -360						; size = 4
tv681 = -360						; size = 4
__mul$81708 = -292					; size = 4
__mul$81706 = -288					; size = 4
__mul$81701 = -284					; size = 4
__mul$81699 = -280					; size = 4
__mul$81612 = -276					; size = 4
__mul$81610 = -272					; size = 4
_tempzone$ = -268					; size = 64
_zone$ = -204						; size = 4
_nzone$ = -200						; size = 4
_mat2$ = -196						; size = 36
_mat$ = -160						; size = 36
_add$ = -124						; size = 4
_rad$ = -120						; size = 4
_sy$ = -116						; size = 4
_sx$ = -112						; size = 4
_z$ = -108						; size = 4
_l2$ = -104						; size = 12
_u2$ = -92						; size = 12
_r2$ = -80						; size = 12
_l$ = -68						; size = 12
_u$ = -56						; size = 12
_r$ = -44						; size = 12
_vec2$ = -32						; size = 12
_vec$ = -20						; size = 12
_j$ = -8						; size = 4
_i$ = -4						; size = 4
?EditFileZones@@YAXXZ PROC NEAR				; EditFileZones, COMDAT

; 230  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 360				; 00000168H
	push	ebx
	push	esi
	push	edi

; 231  : 	long i, j;
; 232  : 	VEC vec, vec2, r, u, l, r2, u2, l2;
; 233  : 	float z, sx, sy, rad, add;
; 234  : 	MAT mat, mat2;
; 235  : 	FILE_ZONE *nzone, *zone, tempzone;
; 236  : 
; 237  : // toggle show nodes
; 238  : 
; 239  : 	if (Keys[DIK_1] && !LastKeys[DIK_1])

	movsx	eax, BYTE PTR ?Keys@@3PADA+2
	test	eax, eax
	je	SHORT $L81604
	movsx	eax, BYTE PTR ?LastKeys@@3PADA+2
	test	eax, eax
	jne	SHORT $L81604

; 240  : 		ShowNodes = !ShowNodes;

	xor	eax, eax
	cmp	DWORD PTR _ShowNodes, 0
	sete	al
	mov	DWORD PTR _ShowNodes, eax
$L81604:

; 241  : 
; 242  : // toggle big brother
; 243  : 
; 244  : 	if (Keys[DIK_2] && !LastKeys[DIK_2])

	movsx	eax, BYTE PTR ?Keys@@3PADA+3
	test	eax, eax
	je	SHORT $L81605
	movsx	eax, BYTE PTR ?LastKeys@@3PADA+3
	test	eax, eax
	jne	SHORT $L81605

; 245  : 		BigBrother = !BigBrother;

	xor	eax, eax
	cmp	DWORD PTR _BigBrother, 0
	sete	al
	mov	DWORD PTR _BigBrother, eax
$L81605:

; 246  : 
; 247  : // quit if not in edit mode
; 248  : 
; 249  : 	if (CAM_MainCamera->Type != CAM_EDIT)

	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	cmp	DWORD PTR [eax], 5
	je	SHORT $L81606

; 250  : 	{
; 251  : 		CurrentFileZone = NULL;

	mov	DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A, 0 ; CurrentFileZone

; 252  : 		return;

	jmp	$L81583
$L81606:

; 253  : 	}
; 254  : 
; 255  : // rotate camera?
; 256  : 
; 257  : 	if (MouseRight)

	movsx	eax, BYTE PTR ?MouseRight@@3DA		; MouseRight
	test	eax, eax
	je	$L81607

; 258  : 	{
; 259  : 		RotMatrixZYX(&mat, (float)-Mouse.lY / 3072, -(float)Mouse.lX / 3072, 0);

	push	0
	fild	DWORD PTR ?Mouse@@3U_DIMOUSESTATE@@A
	fchs
	fdiv	DWORD PTR __real@45400000
	push	ecx
	fstp	DWORD PTR [esp]
	mov	eax, DWORD PTR ?Mouse@@3U_DIMOUSESTATE@@A+4
	neg	eax
	mov	DWORD PTR tv1761[ebp], eax
	fild	DWORD PTR tv1761[ebp]
	fdiv	DWORD PTR __real@45400000
	push	ecx
	fstp	DWORD PTR [esp]
	lea	ecx, DWORD PTR _mat$[ebp]
	push	ecx
	call	?RotMatrixZYX@@YAXPATMatrixUnion@@MMM@Z	; RotMatrixZYX
	add	esp, 16					; 00000010H

; 260  : 		MulMatrix(&CAM_MainCamera->WMatrix, &mat, &mat2);

	lea	eax, DWORD PTR _mat2$[ebp]
	push	eax
	lea	ecx, DWORD PTR _mat$[ebp]
	push	ecx
	mov	edx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	add	edx, 16					; 00000010H
	push	edx
	call	?MulMatrix@@YAXPATMatrixUnion@@00@Z	; MulMatrix
	add	esp, 12					; 0000000cH

; 261  : 		CopyMatrix(&mat2, &CAM_MainCamera->WMatrix);

	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	add	eax, 16					; 00000010H
	push	eax
	lea	ecx, DWORD PTR _mat2$[ebp]
	push	ecx
	call	?CopyMatrix@@YAXPATMatrixUnion@@0@Z	; CopyMatrix
	add	esp, 8

; 262  : 
; 263  : 		CAM_MainCamera->WMatrix.m[RY] = 0;

	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	mov	DWORD PTR [eax+20], 0

; 264  : 		NormalizeVector(&CAM_MainCamera->WMatrix.mv[X]);

	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR [eax+16]
	fmul	DWORD PTR [ecx+16]
	mov	edx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR [edx+20]
	fmul	DWORD PTR [eax+20]
	faddp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	mov	edx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR [ecx+24]
	fmul	DWORD PTR [edx+24]
	faddp	ST(1), ST(0)
	push	ecx
	fstp	DWORD PTR [esp]
	call	?sqrt@@YAMM@Z				; sqrt
	add	esp, 4
	fdivr	DWORD PTR __real@3f800000
	fstp	DWORD PTR __mul$81610[ebp]
	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR __mul$81610[ebp]
	fmul	DWORD PTR [eax+16]
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fstp	DWORD PTR [ecx+16]
	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR __mul$81610[ebp]
	fmul	DWORD PTR [eax+20]
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fstp	DWORD PTR [ecx+20]
	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR __mul$81610[ebp]
	fmul	DWORD PTR [eax+24]
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fstp	DWORD PTR [ecx+24]

; 265  : 		CrossProduct(&CAM_MainCamera->WMatrix.mv[Z], &CAM_MainCamera->WMatrix.mv[X], &CAM_MainCamera->WMatrix.mv[Y]);

	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR [eax+44]
	fmul	DWORD PTR [ecx+24]
	mov	edx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR [edx+48]
	fmul	DWORD PTR [eax+20]
	fsubp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fstp	DWORD PTR [ecx+28]
	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR [eax+48]
	fmul	DWORD PTR [ecx+16]
	mov	edx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR [edx+40]
	fmul	DWORD PTR [eax+24]
	fsubp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fstp	DWORD PTR [ecx+32]
	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR [eax+40]
	fmul	DWORD PTR [ecx+20]
	mov	edx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR [edx+44]
	fmul	DWORD PTR [eax+16]
	fsubp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fstp	DWORD PTR [ecx+36]

; 266  : 		NormalizeVector(&CAM_MainCamera->WMatrix.mv[Y]);

	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR [eax+28]
	fmul	DWORD PTR [ecx+28]
	mov	edx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR [edx+32]
	fmul	DWORD PTR [eax+32]
	faddp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	mov	edx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR [ecx+36]
	fmul	DWORD PTR [edx+36]
	faddp	ST(1), ST(0)
	push	ecx
	fstp	DWORD PTR [esp]
	call	?sqrt@@YAMM@Z				; sqrt
	add	esp, 4
	fdivr	DWORD PTR __real@3f800000
	fstp	DWORD PTR __mul$81612[ebp]
	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR __mul$81612[ebp]
	fmul	DWORD PTR [eax+28]
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fstp	DWORD PTR [ecx+28]
	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR __mul$81612[ebp]
	fmul	DWORD PTR [eax+32]
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fstp	DWORD PTR [ecx+32]
	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR __mul$81612[ebp]
	fmul	DWORD PTR [eax+36]
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fstp	DWORD PTR [ecx+36]

; 267  : 		CrossProduct(&CAM_MainCamera->WMatrix.mv[X], &CAM_MainCamera->WMatrix.mv[Y], &CAM_MainCamera->WMatrix.mv[Z]);

	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR [eax+20]
	fmul	DWORD PTR [ecx+36]
	mov	edx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR [edx+24]
	fmul	DWORD PTR [eax+32]
	fsubp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fstp	DWORD PTR [ecx+40]
	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR [eax+24]
	fmul	DWORD PTR [ecx+28]
	mov	edx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR [edx+16]
	fmul	DWORD PTR [eax+36]
	fsubp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fstp	DWORD PTR [ecx+44]
	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR [eax+16]
	fmul	DWORD PTR [ecx+32]
	mov	edx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR [edx+20]
	fmul	DWORD PTR [eax+28]
	fsubp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fstp	DWORD PTR [ecx+48]
$L81607:

; 268  : 	}
; 269  : 
; 270  : // save zones?
; 271  : 
; 272  : 	if (Keys[DIK_LCONTROL] && Keys[DIK_F4] && !LastKeys[DIK_F4])

	movsx	eax, BYTE PTR ?Keys@@3PADA+29
	test	eax, eax
	je	$L81614
	movsx	eax, BYTE PTR ?Keys@@3PADA+62
	test	eax, eax
	je	$L81614
	movsx	eax, BYTE PTR ?LastKeys@@3PADA+62
	test	eax, eax
	jne	$L81614

; 273  : 	{
; 274  : 		if (FileZoneNum) for (i = FileZoneNum - 1 ; i ; i--) for (j = 0 ; j < i ; j++) if (FileZone[j].ID > FileZone[j + 1].ID)

	cmp	DWORD PTR _FileZoneNum, 0
	je	$L81615
	mov	eax, DWORD PTR _FileZoneNum
	sub	eax, 1
	mov	DWORD PTR _i$[ebp], eax
	jmp	SHORT $L81616
$L81617:
	mov	eax, DWORD PTR _i$[ebp]
	sub	eax, 1
	mov	DWORD PTR _i$[ebp], eax
$L81616:
	cmp	DWORD PTR _i$[ebp], 0
	je	$L81615
	mov	DWORD PTR _j$[ebp], 0
	jmp	SHORT $L81619
$L81620:
	mov	eax, DWORD PTR _j$[ebp]
	add	eax, 1
	mov	DWORD PTR _j$[ebp], eax
$L81619:
	mov	eax, DWORD PTR _j$[ebp]
	cmp	eax, DWORD PTR _i$[ebp]
	jge	SHORT $L81621
	mov	eax, DWORD PTR _j$[ebp]
	shl	eax, 6
	mov	ecx, DWORD PTR _j$[ebp]
	add	ecx, 1
	shl	ecx, 6
	mov	edx, DWORD PTR _FileZone
	mov	esi, DWORD PTR _FileZone
	mov	eax, DWORD PTR [edx+eax]
	cmp	eax, DWORD PTR [esi+ecx]
	jle	SHORT $L81622

; 275  : 		{
; 276  : 			tempzone = FileZone[j];

	mov	esi, DWORD PTR _j$[ebp]
	shl	esi, 6
	add	esi, DWORD PTR _FileZone
	mov	ecx, 16					; 00000010H
	lea	edi, DWORD PTR _tempzone$[ebp]
	rep movsd

; 277  : 			FileZone[j] = FileZone[j + 1];

	mov	esi, DWORD PTR _j$[ebp]
	add	esi, 1
	shl	esi, 6
	add	esi, DWORD PTR _FileZone
	mov	edi, DWORD PTR _j$[ebp]
	shl	edi, 6
	add	edi, DWORD PTR _FileZone
	mov	ecx, 16					; 00000010H
	rep movsd

; 278  : 			FileZone[j + 1] = tempzone;

	mov	edi, DWORD PTR _j$[ebp]
	add	edi, 1
	shl	edi, 6
	add	edi, DWORD PTR _FileZone
	mov	ecx, 16					; 00000010H
	lea	esi, DWORD PTR _tempzone$[ebp]
	rep movsd
$L81622:

; 279  : 		}
; 280  : 
; 281  : 		SaveFileZones(GetLevelFilename("taz", FILENAME_MAKE_BODY | FILENAME_GAME_SETTINGS));

	jmp	$L81620
$L81621:
	jmp	$L81617
$L81615:
	push	3
	push	OFFSET FLAT:??_C@_03KGCDCHED@taz?$AA@
	call	?GetLevelFilename@@YAPADPADJ@Z		; GetLevelFilename
	add	esp, 8
	push	eax
	call	?SaveFileZones@@YAXPAD@Z		; SaveFileZones
	add	esp, 4
$L81614:

; 282  : 	}
; 283  : 
; 284  : // get a current zone?
; 285  : 
; 286  : 	if (!CurrentFileZone && Keys[DIK_RETURN] && !LastKeys[DIK_RETURN])

	cmp	DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A, 0 ; CurrentFileZone
	jne	$L81624
	movsx	eax, BYTE PTR ?Keys@@3PADA+28
	test	eax, eax
	je	$L81624
	movsx	eax, BYTE PTR ?LastKeys@@3PADA+28
	test	eax, eax
	jne	$L81624

; 287  : 	{
; 288  : 		nzone = NULL;

	mov	DWORD PTR _nzone$[ebp], 0

; 289  : 		z = RenderSettings.FarClip;

	mov	eax, DWORD PTR ?RenderSettings@@3URENDER_SETTINGS@@A+32
	mov	DWORD PTR _z$[ebp], eax

; 290  : 
; 291  : 		zone = FileZone;

	mov	eax, DWORD PTR _FileZone
	mov	DWORD PTR _zone$[ebp], eax

; 292  : 		for (i = 0 ; i < FileZoneNum ; i++, zone++)

	mov	DWORD PTR _i$[ebp], 0
	jmp	SHORT $L81625
$L81626:
	mov	eax, DWORD PTR _i$[ebp]
	add	eax, 1
	mov	DWORD PTR _i$[ebp], eax
	mov	ecx, DWORD PTR _zone$[ebp]
	add	ecx, 64					; 00000040H
	mov	DWORD PTR _zone$[ebp], ecx
$L81625:
	mov	eax, DWORD PTR _i$[ebp]
	cmp	eax, DWORD PTR _FileZoneNum
	jge	$L81627

; 293  : 		{
; 294  : 			for (j = 0 ; j < 2 ; j++)

	mov	DWORD PTR _j$[ebp], 0
	jmp	SHORT $L81628
$L81629:
	mov	eax, DWORD PTR _j$[ebp]
	add	eax, 1
	mov	DWORD PTR _j$[ebp], eax
$L81628:
	cmp	DWORD PTR _j$[ebp], 2
	jge	$L81630

; 295  : 			{
; 296  : 				RotTransVector(&ViewMatrix, &ViewTrans, &zone->Pos, &vec);

	lea	eax, DWORD PTR _vec$[ebp]
	push	eax
	mov	ecx, DWORD PTR _zone$[ebp]
	add	ecx, 4
	push	ecx
	push	OFFSET FLAT:?ViewTrans@@3UVectorStruct@@A ; ViewTrans
	push	OFFSET FLAT:?ViewMatrix@@3TMatrixUnion@@A ; ViewMatrix
	call	?RotTransVector@@YAXPATMatrixUnion@@PAUVectorStruct@@11@Z ; RotTransVector
	add	esp, 16					; 00000010H

; 297  : 
; 298  : 				if (vec.v[Z] < RenderSettings.NearClip || vec.v[Z] >= RenderSettings.FarClip) continue;

	fld	DWORD PTR _vec$[ebp+8]
	fcomp	DWORD PTR ?RenderSettings@@3URENDER_SETTINGS@@A+28
	fnstsw	ax
	test	ah, 5
	jnp	SHORT $L81632
	fld	DWORD PTR _vec$[ebp+8]
	fcomp	DWORD PTR ?RenderSettings@@3URENDER_SETTINGS@@A+32
	fnstsw	ax
	test	ah, 1
	jne	SHORT $L81631
$L81632:
	jmp	SHORT $L81629
$L81631:

; 299  : 
; 300  : 				sx = vec.v[X] * RenderSettings.GeomPers / vec.v[Z] + REAL_SCREEN_XHALF;

	fld	DWORD PTR _vec$[ebp]
	fmul	DWORD PTR ?RenderSettings@@3URENDER_SETTINGS@@A
	fdiv	DWORD PTR _vec$[ebp+8]
	fadd	DWORD PTR __real@43a00000
	fstp	DWORD PTR _sx$[ebp]

; 301  : 				sy = vec.v[Y] * RenderSettings.GeomPers / vec.v[Z] + REAL_SCREEN_YHALF;

	fld	DWORD PTR _vec$[ebp+4]
	fmul	DWORD PTR ?RenderSettings@@3URENDER_SETTINGS@@A
	fdiv	DWORD PTR _vec$[ebp+8]
	fadd	DWORD PTR __real@43700000
	fstp	DWORD PTR _sy$[ebp]

; 302  : 
; 303  : 				rad = 128 * RenderSettings.GeomPers / vec.v[Z];

	fld	DWORD PTR __real@43000000
	fmul	DWORD PTR ?RenderSettings@@3URENDER_SETTINGS@@A
	fdiv	DWORD PTR _vec$[ebp+8]
	fstp	DWORD PTR _rad$[ebp]

; 304  : 
; 305  : 				if (MouseXpos > sx - rad && MouseXpos < sx + rad && MouseYpos > sy - rad && MouseYpos < sy + rad)

	fld	DWORD PTR _sx$[ebp]
	fsub	DWORD PTR _rad$[ebp]
	fcomp	DWORD PTR ?MouseXpos@@3MA		; MouseXpos
	fnstsw	ax
	test	ah, 5
	jp	SHORT $L81633
	fld	DWORD PTR _sx$[ebp]
	fadd	DWORD PTR _rad$[ebp]
	fcomp	DWORD PTR ?MouseXpos@@3MA		; MouseXpos
	fnstsw	ax
	test	ah, 65					; 00000041H
	jne	SHORT $L81633
	fld	DWORD PTR _sy$[ebp]
	fsub	DWORD PTR _rad$[ebp]
	fcomp	DWORD PTR ?MouseYpos@@3MA		; MouseYpos
	fnstsw	ax
	test	ah, 5
	jp	SHORT $L81633
	fld	DWORD PTR _sy$[ebp]
	fadd	DWORD PTR _rad$[ebp]
	fcomp	DWORD PTR ?MouseYpos@@3MA		; MouseYpos
	fnstsw	ax
	test	ah, 65					; 00000041H
	jne	SHORT $L81633

; 306  : 				{
; 307  : 					if (vec.v[Z] < z)

	fld	DWORD PTR _vec$[ebp+8]
	fcomp	DWORD PTR _z$[ebp]
	fnstsw	ax
	test	ah, 5
	jp	SHORT $L81633

; 308  : 					{
; 309  : 						nzone = zone;

	mov	eax, DWORD PTR _zone$[ebp]
	mov	DWORD PTR _nzone$[ebp], eax

; 310  : 						z = vec.v[Z];

	mov	eax, DWORD PTR _vec$[ebp+8]
	mov	DWORD PTR _z$[ebp], eax
$L81633:

; 311  : 					}
; 312  : 				}
; 313  : 			}

	jmp	$L81629
$L81630:

; 314  : 		}

	jmp	$L81626
$L81627:

; 315  : 		if (nzone)

	cmp	DWORD PTR _nzone$[ebp], 0
	je	SHORT $L81624

; 316  : 		{
; 317  : 			CurrentFileZone = nzone;

	mov	eax, DWORD PTR _nzone$[ebp]
	mov	DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A, eax ; CurrentFileZone

; 318  : 			return;

	jmp	$L81583
$L81624:

; 319  : 		}
; 320  : 	}
; 321  : 
; 322  : // new zone?
; 323  : 
; 324  : 	if (Keys[DIK_INSERT] && !LastKeys[DIK_INSERT])

	movsx	eax, BYTE PTR ?Keys@@3PADA+210
	test	eax, eax
	je	$L81636
	movsx	eax, BYTE PTR ?LastKeys@@3PADA+210
	test	eax, eax
	jne	$L81636

; 325  : 	{
; 326  : 		if ((zone = AllocFileZone()))

	call	?AllocFileZone@@YAPAUFILE_ZONE@@XZ	; AllocFileZone
	mov	DWORD PTR _zone$[ebp], eax
	cmp	DWORD PTR _zone$[ebp], 0
	je	$L81636

; 327  : 		{
; 328  : 			vec.v[X] = 0;

	mov	DWORD PTR _vec$[ebp], 0

; 329  : 			vec.v[Y] = 0;

	mov	DWORD PTR _vec$[ebp+4], 0

; 330  : 			vec.v[Z] = 512;

	mov	DWORD PTR _vec$[ebp+8], 1140850688	; 44000000H

; 331  : 			RotVector(&CAM_MainCamera->WMatrix, &vec, &vec2);

	lea	eax, DWORD PTR _vec2$[ebp]
	push	eax
	lea	ecx, DWORD PTR _vec$[ebp]
	push	ecx
	mov	edx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	add	edx, 16					; 00000010H
	push	edx
	call	?RotVector@@YAXPATMatrixUnion@@PAUVectorStruct@@1@Z ; RotVector
	add	esp, 12					; 0000000cH

; 332  : 			AddVector(&CAM_MainCamera->WPos, &vec2, &zone->Pos);

	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR _vec2$[ebp]
	fadd	DWORD PTR [eax+68]
	mov	ecx, DWORD PTR _zone$[ebp]
	fstp	DWORD PTR [ecx+4]
	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR _vec2$[ebp+4]
	fadd	DWORD PTR [eax+72]
	mov	ecx, DWORD PTR _zone$[ebp]
	fstp	DWORD PTR [ecx+8]
	mov	eax, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	fld	DWORD PTR _vec2$[ebp+8]
	fadd	DWORD PTR [eax+76]
	mov	ecx, DWORD PTR _zone$[ebp]
	fstp	DWORD PTR [ecx+12]

; 333  : 
; 334  : 			CopyMatrix(&IdentityMatrix, &zone->Matrix);

	mov	eax, DWORD PTR _zone$[ebp]
	add	eax, 16					; 00000010H
	push	eax
	push	OFFSET FLAT:?IdentityMatrix@@3TMatrixUnion@@A ; IdentityMatrix
	call	?CopyMatrix@@YAXPATMatrixUnion@@0@Z	; CopyMatrix
	add	esp, 8

; 335  : 
; 336  : 			zone->Size[X] = zone->Size[Y] = zone->Size[Z] = 128;

	mov	eax, DWORD PTR _zone$[ebp]
	mov	DWORD PTR [eax+60], 1124073472		; 43000000H
	mov	ecx, DWORD PTR _zone$[ebp]
	mov	DWORD PTR [ecx+56], 1124073472		; 43000000H
	mov	edx, DWORD PTR _zone$[ebp]
	mov	DWORD PTR [edx+52], 1124073472		; 43000000H

; 337  : 			zone->ID = LastFileZoneID;

	mov	eax, DWORD PTR _zone$[ebp]
	mov	ecx, DWORD PTR _LastFileZoneID
	mov	DWORD PTR [eax], ecx

; 338  : 
; 339  : 			CurrentFileZone = zone;

	mov	eax, DWORD PTR _zone$[ebp]
	mov	DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A, eax ; CurrentFileZone
$L81636:

; 340  : 		}
; 341  : 	}
; 342  : 
; 343  : // quit now if no current file zone
; 344  : 
; 345  : 	if (!CurrentFileZone) return;

	cmp	DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A, 0 ; CurrentFileZone
	jne	SHORT $L81638
	jmp	$L81583
$L81638:

; 346  : 
; 347  : // save ID to last
; 348  : 
; 349  : 	LastFileZoneID = CurrentFileZone->ID;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	ecx, DWORD PTR [eax]
	mov	DWORD PTR _LastFileZoneID, ecx

; 350  : 
; 351  : // exit current edit?
; 352  : 
; 353  : 	if (Keys[DIK_RETURN] && !LastKeys[DIK_RETURN])

	movsx	eax, BYTE PTR ?Keys@@3PADA+28
	test	eax, eax
	je	SHORT $L81639
	movsx	eax, BYTE PTR ?LastKeys@@3PADA+28
	test	eax, eax
	jne	SHORT $L81639

; 354  : 	{
; 355  : 		CurrentFileZone = NULL;

	mov	DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A, 0 ; CurrentFileZone

; 356  : 		return;

	jmp	$L81583
$L81639:

; 357  : 	}
; 358  : 
; 359  : // delete current file zone?
; 360  : 
; 361  : 	if (Keys[DIK_DELETE] && !LastKeys[DIK_DELETE])

	movsx	eax, BYTE PTR ?Keys@@3PADA+211
	test	eax, eax
	je	SHORT $L81640
	movsx	eax, BYTE PTR ?LastKeys@@3PADA+211
	test	eax, eax
	jne	SHORT $L81640

; 362  : 	{
; 363  : 		FreeFileZone(CurrentFileZone);

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	push	eax
	call	?FreeFileZone@@YAXPAUFILE_ZONE@@@Z	; FreeFileZone
	add	esp, 4

; 364  : 		CurrentFileZone = NULL;

	mov	DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A, 0 ; CurrentFileZone

; 365  : 		return;

	jmp	$L81583
$L81640:

; 366  : 	}
; 367  : 
; 368  : // change axis?
; 369  : 
; 370  : 	if (Keys[DIK_TAB] && !LastKeys[DIK_TAB])

	movsx	eax, BYTE PTR ?Keys@@3PADA+15
	test	eax, eax
	je	SHORT $L81641
	movsx	eax, BYTE PTR ?LastKeys@@3PADA+15
	test	eax, eax
	jne	SHORT $L81641

; 371  : 	{
; 372  : 		if (Keys[DIK_LSHIFT]) FileZoneAxis--;

	movsx	eax, BYTE PTR ?Keys@@3PADA+42
	test	eax, eax
	je	SHORT $L81642
	mov	eax, DWORD PTR _FileZoneAxis
	sub	eax, 1
	mov	DWORD PTR _FileZoneAxis, eax

; 373  : 		else FileZoneAxis++;

	jmp	SHORT $L81643
$L81642:
	mov	eax, DWORD PTR _FileZoneAxis
	add	eax, 1
	mov	DWORD PTR _FileZoneAxis, eax
$L81643:

; 374  : 		if (FileZoneAxis == -1) FileZoneAxis = 5;

	cmp	DWORD PTR _FileZoneAxis, -1
	jne	SHORT $L81644
	mov	DWORD PTR _FileZoneAxis, 5
$L81644:

; 375  : 		if (FileZoneAxis == 6) FileZoneAxis = 0;

	cmp	DWORD PTR _FileZoneAxis, 6
	jne	SHORT $L81641
	mov	DWORD PTR _FileZoneAxis, 0
$L81641:

; 376  : 	}
; 377  : 
; 378  : // change axis type?
; 379  : 
; 380  : 	if (Keys[DIK_LALT] && !LastKeys[DIK_LALT])

	movsx	eax, BYTE PTR ?Keys@@3PADA+56
	test	eax, eax
	je	SHORT $L81646
	movsx	eax, BYTE PTR ?LastKeys@@3PADA+56
	test	eax, eax
	jne	SHORT $L81646

; 381  : 		FileZoneAxisType ^= 1;

	mov	eax, DWORD PTR _FileZoneAxisType
	xor	eax, 1
	mov	DWORD PTR _FileZoneAxisType, eax
$L81646:

; 382  : 
; 383  : // change ID?
; 384  : 
; 385  : 	if (Keys[DIK_NUMPADMINUS] && !LastKeys[DIK_NUMPADMINUS])

	movsx	eax, BYTE PTR ?Keys@@3PADA+74
	test	eax, eax
	je	SHORT $L81647
	movsx	eax, BYTE PTR ?LastKeys@@3PADA+74
	test	eax, eax
	jne	SHORT $L81647

; 386  : 		CurrentFileZone->ID--;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	ecx, DWORD PTR [eax]
	sub	ecx, 1
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	DWORD PTR [edx], ecx
$L81647:

; 387  : 	if (Keys[DIK_NUMPADPLUS] && !LastKeys[DIK_NUMPADPLUS])

	movsx	eax, BYTE PTR ?Keys@@3PADA+78
	test	eax, eax
	je	SHORT $L81648
	movsx	eax, BYTE PTR ?LastKeys@@3PADA+78
	test	eax, eax
	jne	SHORT $L81648

; 388  : 		CurrentFileZone->ID++;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	ecx, DWORD PTR [eax]
	add	ecx, 1
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	DWORD PTR [edx], ecx
$L81648:

; 389  : 
; 390  : 	CurrentFileZone->ID &= 255;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	ecx, DWORD PTR [eax]
	and	ecx, 255				; 000000ffH
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	DWORD PTR [edx], ecx

; 391  : 
; 392  : // change side?
; 393  : 
; 394  : 	if (Keys[DIK_SPACE] && !LastKeys[DIK_SPACE])

	movsx	eax, BYTE PTR ?Keys@@3PADA+57
	test	eax, eax
	je	SHORT $L81649
	movsx	eax, BYTE PTR ?LastKeys@@3PADA+57
	test	eax, eax
	jne	SHORT $L81649

; 395  : 		FileZoneSide = (FileZoneSide + 1) % 6;

	mov	eax, DWORD PTR _FileZoneSide
	add	eax, 1
	cdq
	mov	ecx, 6
	idiv	ecx
	mov	DWORD PTR _FileZoneSide, edx
$L81649:

; 396  : 
; 397  : // resize?
; 398  : 
; 399  : 	add = 0;

	mov	DWORD PTR _add$[ebp], 0

; 400  : 	if (Keys[DIK_NUMPADSTAR])

	movsx	eax, BYTE PTR ?Keys@@3PADA+55
	test	eax, eax
	je	SHORT $L81650

; 401  : 		add = 4 * TimeFactor;

	fld	DWORD PTR __real@40800000
	fmul	DWORD PTR ?TimeFactor@@3MA		; TimeFactor
	fstp	DWORD PTR _add$[ebp]
$L81650:

; 402  : 	if (Keys[DIK_NUMPADSLASH])

	movsx	eax, BYTE PTR ?Keys@@3PADA+181
	test	eax, eax
	je	SHORT $L81651

; 403  : 		add = -4 * TimeFactor;

	fld	DWORD PTR __real@c0800000
	fmul	DWORD PTR ?TimeFactor@@3MA		; TimeFactor
	fstp	DWORD PTR _add$[ebp]
$L81651:

; 404  : 
; 405  : 	if (Keys[DIK_LCONTROL]) add *= 4;

	movsx	eax, BYTE PTR ?Keys@@3PADA+29
	test	eax, eax
	je	SHORT $L81652
	fld	DWORD PTR _add$[ebp]
	fmul	DWORD PTR __real@40800000
	fstp	DWORD PTR _add$[ebp]
$L81652:

; 406  : 
; 407  : 	if (add)

	fld	DWORD PTR __real@00000000
	fld	DWORD PTR _add$[ebp]
	fucompp
	fnstsw	ax
	test	ah, 68					; 00000044H
	jnp	$L81653

; 408  : 	{
; 409  : 		if (Keys[DIK_LSHIFT])

	movsx	eax, BYTE PTR ?Keys@@3PADA+42
	test	eax, eax
	je	$L81654

; 410  : 		{
; 411  : 			CurrentFileZone->Size[X] += add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fadd	DWORD PTR [eax+52]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+52]

; 412  : 			if (CurrentFileZone->Size[X] < 16) CurrentFileZone->Size[X] = 16;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+52]
	fcomp	DWORD PTR __real@41800000
	fnstsw	ax
	test	ah, 5
	jp	SHORT $L81655
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	DWORD PTR [eax+52], 1098907648		; 41800000H
$L81655:

; 413  : 			CurrentFileZone->Size[Y] += add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fadd	DWORD PTR [eax+56]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+56]

; 414  : 			if (CurrentFileZone->Size[Y] < 16) CurrentFileZone->Size[Y] = 16;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+56]
	fcomp	DWORD PTR __real@41800000
	fnstsw	ax
	test	ah, 5
	jp	SHORT $L81656
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	DWORD PTR [eax+56], 1098907648		; 41800000H
$L81656:

; 415  : 			CurrentFileZone->Size[Z] += add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fadd	DWORD PTR [eax+60]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+60]

; 416  : 			if (CurrentFileZone->Size[Z] < 16) CurrentFileZone->Size[Z] = 16;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+60]
	fcomp	DWORD PTR __real@41800000
	fnstsw	ax
	test	ah, 5
	jp	SHORT $L81657
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	DWORD PTR [eax+60], 1098907648		; 41800000H
$L81657:

; 417  : 		}
; 418  : 		else

	jmp	$L81653
$L81654:

; 419  : 		{
; 420  : 			switch (FileZoneSide)

	mov	eax, DWORD PTR _FileZoneSide
	mov	DWORD PTR tv681[ebp], eax
	cmp	DWORD PTR tv681[ebp], 5
	ja	$L81653
	mov	ecx, DWORD PTR tv681[ebp]
	jmp	DWORD PTR $L81958[ecx*4]
$L81663:

; 421  : 			{
; 422  : 				case 0:
; 423  : 					CurrentFileZone->Size[X] += add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fadd	DWORD PTR [eax+52]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+52]

; 424  : 					if (CurrentFileZone->Size[X] < 16) CurrentFileZone->Size[X] = 16;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+52]
	fcomp	DWORD PTR __real@41800000
	fnstsw	ax
	test	ah, 5
	jp	SHORT $L81664
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	DWORD PTR [eax+52], 1098907648		; 41800000H
$L81664:

; 425  : 					CurrentFileZone->Pos.v[X] += CurrentFileZone->Matrix.m[RX] * add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fmul	DWORD PTR [eax+16]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fadd	DWORD PTR [ecx+4]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [edx+4]

; 426  : 					CurrentFileZone->Pos.v[Y] += CurrentFileZone->Matrix.m[RY] * add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fmul	DWORD PTR [eax+20]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fadd	DWORD PTR [ecx+8]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [edx+8]

; 427  : 					CurrentFileZone->Pos.v[Z] += CurrentFileZone->Matrix.m[RZ] * add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fmul	DWORD PTR [eax+24]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fadd	DWORD PTR [ecx+12]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [edx+12]

; 428  : 					break;

	jmp	$L81653
$L81665:

; 429  : 				case 1:
; 430  : 					CurrentFileZone->Size[X] += add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fadd	DWORD PTR [eax+52]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+52]

; 431  : 					if (CurrentFileZone->Size[X] < 16) CurrentFileZone->Size[X] = 16;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+52]
	fcomp	DWORD PTR __real@41800000
	fnstsw	ax
	test	ah, 5
	jp	SHORT $L81666
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	DWORD PTR [eax+52], 1098907648		; 41800000H
$L81666:

; 432  : 					CurrentFileZone->Pos.v[X] -= CurrentFileZone->Matrix.m[RX] * add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fmul	DWORD PTR [eax+16]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fsubr	DWORD PTR [ecx+4]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [edx+4]

; 433  : 					CurrentFileZone->Pos.v[Y] -= CurrentFileZone->Matrix.m[RY] * add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fmul	DWORD PTR [eax+20]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fsubr	DWORD PTR [ecx+8]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [edx+8]

; 434  : 					CurrentFileZone->Pos.v[Z] -= CurrentFileZone->Matrix.m[RZ] * add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fmul	DWORD PTR [eax+24]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fsubr	DWORD PTR [ecx+12]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [edx+12]

; 435  : 					break;

	jmp	$L81653
$L81667:

; 436  : 				case 2:
; 437  : 					CurrentFileZone->Size[Y] += add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fadd	DWORD PTR [eax+56]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+56]

; 438  : 					if (CurrentFileZone->Size[Y] < 16) CurrentFileZone->Size[Y] = 16;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+56]
	fcomp	DWORD PTR __real@41800000
	fnstsw	ax
	test	ah, 5
	jp	SHORT $L81668
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	DWORD PTR [eax+56], 1098907648		; 41800000H
$L81668:

; 439  : 					CurrentFileZone->Pos.v[X] += CurrentFileZone->Matrix.m[UX] * add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fmul	DWORD PTR [eax+28]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fadd	DWORD PTR [ecx+4]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [edx+4]

; 440  : 					CurrentFileZone->Pos.v[Y] += CurrentFileZone->Matrix.m[UY] * add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fmul	DWORD PTR [eax+32]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fadd	DWORD PTR [ecx+8]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [edx+8]

; 441  : 					CurrentFileZone->Pos.v[Z] += CurrentFileZone->Matrix.m[UZ] * add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fmul	DWORD PTR [eax+36]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fadd	DWORD PTR [ecx+12]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [edx+12]

; 442  : 					break;

	jmp	$L81653
$L81669:

; 443  : 				case 3:
; 444  : 					CurrentFileZone->Size[Y] += add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fadd	DWORD PTR [eax+56]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+56]

; 445  : 					if (CurrentFileZone->Size[Y] < 16) CurrentFileZone->Size[Y] = 16;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+56]
	fcomp	DWORD PTR __real@41800000
	fnstsw	ax
	test	ah, 5
	jp	SHORT $L81670
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	DWORD PTR [eax+56], 1098907648		; 41800000H
$L81670:

; 446  : 					CurrentFileZone->Pos.v[X] -= CurrentFileZone->Matrix.m[UX] * add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fmul	DWORD PTR [eax+28]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fsubr	DWORD PTR [ecx+4]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [edx+4]

; 447  : 					CurrentFileZone->Pos.v[Y] -= CurrentFileZone->Matrix.m[UY] * add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fmul	DWORD PTR [eax+32]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fsubr	DWORD PTR [ecx+8]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [edx+8]

; 448  : 					CurrentFileZone->Pos.v[Z] -= CurrentFileZone->Matrix.m[UZ] * add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fmul	DWORD PTR [eax+36]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fsubr	DWORD PTR [ecx+12]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [edx+12]

; 449  : 					break;

	jmp	$L81653
$L81671:

; 450  : 				case 4:
; 451  : 					CurrentFileZone->Size[Z] += add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fadd	DWORD PTR [eax+60]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+60]

; 452  : 					if (CurrentFileZone->Size[Z] < 16) CurrentFileZone->Size[Z] = 16;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+60]
	fcomp	DWORD PTR __real@41800000
	fnstsw	ax
	test	ah, 5
	jp	SHORT $L81672
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	DWORD PTR [eax+60], 1098907648		; 41800000H
$L81672:

; 453  : 					CurrentFileZone->Pos.v[X] += CurrentFileZone->Matrix.m[LX] * add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fmul	DWORD PTR [eax+40]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fadd	DWORD PTR [ecx+4]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [edx+4]

; 454  : 					CurrentFileZone->Pos.v[Y] += CurrentFileZone->Matrix.m[LY] * add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fmul	DWORD PTR [eax+44]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fadd	DWORD PTR [ecx+8]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [edx+8]

; 455  : 					CurrentFileZone->Pos.v[Z] += CurrentFileZone->Matrix.m[LZ] * add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fmul	DWORD PTR [eax+48]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fadd	DWORD PTR [ecx+12]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [edx+12]

; 456  : 					break;

	jmp	$L81653
$L81673:

; 457  : 				case 5:
; 458  : 					CurrentFileZone->Size[Z] += add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fadd	DWORD PTR [eax+60]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+60]

; 459  : 					if (CurrentFileZone->Size[Z] < 16) CurrentFileZone->Size[Z] = 16;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+60]
	fcomp	DWORD PTR __real@41800000
	fnstsw	ax
	test	ah, 5
	jp	SHORT $L81674
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	DWORD PTR [eax+60], 1098907648		; 41800000H
$L81674:

; 460  : 					CurrentFileZone->Pos.v[X] -= CurrentFileZone->Matrix.m[LX] * add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fmul	DWORD PTR [eax+40]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fsubr	DWORD PTR [ecx+4]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [edx+4]

; 461  : 					CurrentFileZone->Pos.v[Y] -= CurrentFileZone->Matrix.m[LY] * add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fmul	DWORD PTR [eax+44]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fsubr	DWORD PTR [ecx+8]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [edx+8]

; 462  : 					CurrentFileZone->Pos.v[Z] -= CurrentFileZone->Matrix.m[LZ] * add;

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _add$[ebp]
	fmul	DWORD PTR [eax+48]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fsubr	DWORD PTR [ecx+12]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [edx+12]
$L81653:

; 463  : 					break;
; 464  : 			}
; 465  : 		}
; 466  : 	}
; 467  : 
; 468  : // move?
; 469  : 
; 470  : 	if (MouseLeft)

	movsx	eax, BYTE PTR ?MouseLeft@@3DA		; MouseLeft
	test	eax, eax
	je	$L81675

; 471  : 	{
; 472  : 		RotTransVector(&ViewMatrix, &ViewTrans, &CurrentFileZone->Pos, &vec);

	lea	eax, DWORD PTR _vec$[ebp]
	push	eax
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	add	ecx, 4
	push	ecx
	push	OFFSET FLAT:?ViewTrans@@3UVectorStruct@@A ; ViewTrans
	push	OFFSET FLAT:?ViewMatrix@@3TMatrixUnion@@A ; ViewMatrix
	call	?RotTransVector@@YAXPATMatrixUnion@@PAUVectorStruct@@11@Z ; RotTransVector
	add	esp, 16					; 00000010H

; 473  : 
; 474  : 		switch (FileZoneAxis)

	mov	eax, DWORD PTR _FileZoneAxis
	mov	DWORD PTR tv906[ebp], eax
	cmp	DWORD PTR tv906[ebp], 5
	ja	$L81677
	mov	ecx, DWORD PTR tv906[ebp]
	jmp	DWORD PTR $L81959[ecx*4]
$L81680:

; 475  : 		{
; 476  : 			case FILE_ZONE_AXIS_XY:
; 477  : 				vec.v[X] = MouseXrel * vec.v[Z] / RenderSettings.GeomPers + CameraEditXrel;

	fld	DWORD PTR ?MouseXrel@@3MA		; MouseXrel
	fmul	DWORD PTR _vec$[ebp+8]
	fdiv	DWORD PTR ?RenderSettings@@3URENDER_SETTINGS@@A
	fadd	DWORD PTR ?CameraEditXrel@@3MA		; CameraEditXrel
	fstp	DWORD PTR _vec$[ebp]

; 478  : 				vec.v[Y] = MouseYrel * vec.v[Z] / RenderSettings.GeomPers + CameraEditYrel;

	fld	DWORD PTR ?MouseYrel@@3MA		; MouseYrel
	fmul	DWORD PTR _vec$[ebp+8]
	fdiv	DWORD PTR ?RenderSettings@@3URENDER_SETTINGS@@A
	fadd	DWORD PTR ?CameraEditYrel@@3MA		; CameraEditYrel
	fstp	DWORD PTR _vec$[ebp+4]

; 479  : 				vec.v[Z] = CameraEditZrel;

	mov	eax, DWORD PTR ?CameraEditZrel@@3MA
	mov	DWORD PTR _vec$[ebp+8], eax

; 480  : 				break;

	jmp	$L81677
$L81681:

; 481  : 			case FILE_ZONE_AXIS_XZ:
; 482  : 				vec.v[X] = MouseXrel * vec.v[Z] / RenderSettings.GeomPers + CameraEditXrel;

	fld	DWORD PTR ?MouseXrel@@3MA		; MouseXrel
	fmul	DWORD PTR _vec$[ebp+8]
	fdiv	DWORD PTR ?RenderSettings@@3URENDER_SETTINGS@@A
	fadd	DWORD PTR ?CameraEditXrel@@3MA		; CameraEditXrel
	fstp	DWORD PTR _vec$[ebp]

; 483  : 				vec.v[Y] = CameraEditYrel;

	mov	eax, DWORD PTR ?CameraEditYrel@@3MA
	mov	DWORD PTR _vec$[ebp+4], eax

; 484  : 				vec.v[Z] = -MouseYrel * vec.v[Z] / RenderSettings.GeomPers + CameraEditZrel;

	fld	DWORD PTR ?MouseYrel@@3MA		; MouseYrel
	fchs
	fmul	DWORD PTR _vec$[ebp+8]
	fdiv	DWORD PTR ?RenderSettings@@3URENDER_SETTINGS@@A
	fadd	DWORD PTR ?CameraEditZrel@@3MA		; CameraEditZrel
	fstp	DWORD PTR _vec$[ebp+8]

; 485  : 				break;

	jmp	$L81677
$L81682:

; 486  : 			case FILE_ZONE_AXIS_ZY:
; 487  : 				vec.v[X] = CameraEditXrel;

	mov	eax, DWORD PTR ?CameraEditXrel@@3MA
	mov	DWORD PTR _vec$[ebp], eax

; 488  : 				vec.v[Y] = MouseYrel * vec.v[Z] / RenderSettings.GeomPers + CameraEditYrel;

	fld	DWORD PTR ?MouseYrel@@3MA		; MouseYrel
	fmul	DWORD PTR _vec$[ebp+8]
	fdiv	DWORD PTR ?RenderSettings@@3URENDER_SETTINGS@@A
	fadd	DWORD PTR ?CameraEditYrel@@3MA		; CameraEditYrel
	fstp	DWORD PTR _vec$[ebp+4]

; 489  : 				vec.v[Z] = MouseXrel * vec.v[Z] / RenderSettings.GeomPers + CameraEditZrel;

	fld	DWORD PTR ?MouseXrel@@3MA		; MouseXrel
	fmul	DWORD PTR _vec$[ebp+8]
	fdiv	DWORD PTR ?RenderSettings@@3URENDER_SETTINGS@@A
	fadd	DWORD PTR ?CameraEditZrel@@3MA		; CameraEditZrel
	fstp	DWORD PTR _vec$[ebp+8]

; 490  : 				break;

	jmp	SHORT $L81677
$L81683:

; 491  : 			case FILE_ZONE_AXIS_X:
; 492  : 				vec.v[X] = MouseXrel * vec.v[Z] / RenderSettings.GeomPers + CameraEditXrel;

	fld	DWORD PTR ?MouseXrel@@3MA		; MouseXrel
	fmul	DWORD PTR _vec$[ebp+8]
	fdiv	DWORD PTR ?RenderSettings@@3URENDER_SETTINGS@@A
	fadd	DWORD PTR ?CameraEditXrel@@3MA		; CameraEditXrel
	fstp	DWORD PTR _vec$[ebp]

; 493  : 				vec.v[Y] = CameraEditYrel;

	mov	eax, DWORD PTR ?CameraEditYrel@@3MA
	mov	DWORD PTR _vec$[ebp+4], eax

; 494  : 				vec.v[Z] = CameraEditZrel;

	mov	eax, DWORD PTR ?CameraEditZrel@@3MA
	mov	DWORD PTR _vec$[ebp+8], eax

; 495  : 				break;

	jmp	SHORT $L81677
$L81684:

; 496  : 			case FILE_ZONE_AXIS_Y:
; 497  : 				vec.v[X] = CameraEditXrel;

	mov	eax, DWORD PTR ?CameraEditXrel@@3MA
	mov	DWORD PTR _vec$[ebp], eax

; 498  : 				vec.v[Y] = MouseYrel * vec.v[Z] / RenderSettings.GeomPers + CameraEditYrel;

	fld	DWORD PTR ?MouseYrel@@3MA		; MouseYrel
	fmul	DWORD PTR _vec$[ebp+8]
	fdiv	DWORD PTR ?RenderSettings@@3URENDER_SETTINGS@@A
	fadd	DWORD PTR ?CameraEditYrel@@3MA		; CameraEditYrel
	fstp	DWORD PTR _vec$[ebp+4]

; 499  : 				vec.v[Z] = CameraEditZrel;

	mov	eax, DWORD PTR ?CameraEditZrel@@3MA
	mov	DWORD PTR _vec$[ebp+8], eax

; 500  : 				break;

	jmp	SHORT $L81677
$L81685:

; 501  : 			case FILE_ZONE_AXIS_Z:
; 502  : 				vec.v[X] = CameraEditXrel;

	mov	eax, DWORD PTR ?CameraEditXrel@@3MA
	mov	DWORD PTR _vec$[ebp], eax

; 503  : 				vec.v[Y] = CameraEditYrel;

	mov	eax, DWORD PTR ?CameraEditYrel@@3MA
	mov	DWORD PTR _vec$[ebp+4], eax

; 504  : 				vec.v[Z] = -MouseYrel * vec.v[Z] / RenderSettings.GeomPers + CameraEditZrel;

	fld	DWORD PTR ?MouseYrel@@3MA		; MouseYrel
	fchs
	fmul	DWORD PTR _vec$[ebp+8]
	fdiv	DWORD PTR ?RenderSettings@@3URENDER_SETTINGS@@A
	fadd	DWORD PTR ?CameraEditZrel@@3MA		; CameraEditZrel
	fstp	DWORD PTR _vec$[ebp+8]
$L81677:

; 505  : 				break;
; 506  : 		}
; 507  : 
; 508  : 		if (FileZoneAxisType == 1) 

	cmp	DWORD PTR _FileZoneAxisType, 1
	jne	SHORT $L81686

; 509  : 		{
; 510  : 			SetVector(&vec2, vec.v[X], vec.v[Y], vec.v[Z]);

	mov	eax, DWORD PTR _vec$[ebp]
	mov	DWORD PTR _vec2$[ebp], eax
	mov	eax, DWORD PTR _vec$[ebp+4]
	mov	DWORD PTR _vec2$[ebp+4], eax
	mov	eax, DWORD PTR _vec$[ebp+8]
	mov	DWORD PTR _vec2$[ebp+8], eax

; 511  : 		}
; 512  : 		else

	jmp	SHORT $L81687
$L81686:

; 513  : 		{
; 514  : 			RotVector(&CAM_MainCamera->WMatrix, &vec, &vec2);

	lea	eax, DWORD PTR _vec2$[ebp]
	push	eax
	lea	ecx, DWORD PTR _vec$[ebp]
	push	ecx
	mov	edx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	add	edx, 16					; 00000010H
	push	edx
	call	?RotVector@@YAXPATMatrixUnion@@PAUVectorStruct@@1@Z ; RotVector
	add	esp, 12					; 0000000cH
$L81687:

; 515  : 		}
; 516  : 
; 517  : 		CurrentFileZone->Pos.v[X] += vec2.v[X];

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _vec2$[ebp]
	fadd	DWORD PTR [eax+4]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+4]

; 518  : 		CurrentFileZone->Pos.v[Y] += vec2.v[Y];

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _vec2$[ebp+4]
	fadd	DWORD PTR [eax+8]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+8]

; 519  : 		CurrentFileZone->Pos.v[Z] += vec2.v[Z];

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR _vec2$[ebp+8]
	fadd	DWORD PTR [eax+12]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+12]
$L81675:

; 520  : 	}
; 521  : 
; 522  : // rotate?
; 523  : 
; 524  : 	vec.v[X] = vec.v[Y] = vec.v[Z] = 0;

	mov	DWORD PTR _vec$[ebp+8], 0
	mov	eax, DWORD PTR _vec$[ebp+8]
	mov	DWORD PTR _vec$[ebp+4], eax
	mov	ecx, DWORD PTR _vec$[ebp+4]
	mov	DWORD PTR _vec$[ebp], ecx

; 525  : 
; 526  : 	if (Keys[DIK_NUMPAD7]) vec.v[X] -= 0.005f;

	movsx	eax, BYTE PTR ?Keys@@3PADA+71
	test	eax, eax
	je	SHORT $L81688
	fld	DWORD PTR _vec$[ebp]
	fsub	DWORD PTR __real@3ba3d70a
	fstp	DWORD PTR _vec$[ebp]
$L81688:

; 527  : 	if (Keys[DIK_NUMPAD4]) vec.v[X] += 0.005f;

	movsx	eax, BYTE PTR ?Keys@@3PADA+75
	test	eax, eax
	je	SHORT $L81689
	fld	DWORD PTR _vec$[ebp]
	fadd	DWORD PTR __real@3ba3d70a
	fstp	DWORD PTR _vec$[ebp]
$L81689:

; 528  : 	if (Keys[DIK_NUMPAD8]) vec.v[Y] -= 0.005f;

	movsx	eax, BYTE PTR ?Keys@@3PADA+72
	test	eax, eax
	je	SHORT $L81690
	fld	DWORD PTR _vec$[ebp+4]
	fsub	DWORD PTR __real@3ba3d70a
	fstp	DWORD PTR _vec$[ebp+4]
$L81690:

; 529  : 	if (Keys[DIK_NUMPAD5]) vec.v[Y] += 0.005f;

	movsx	eax, BYTE PTR ?Keys@@3PADA+76
	test	eax, eax
	je	SHORT $L81691
	fld	DWORD PTR _vec$[ebp+4]
	fadd	DWORD PTR __real@3ba3d70a
	fstp	DWORD PTR _vec$[ebp+4]
$L81691:

; 530  : 	if (Keys[DIK_NUMPAD9]) vec.v[Z] -= 0.005f;

	movsx	eax, BYTE PTR ?Keys@@3PADA+73
	test	eax, eax
	je	SHORT $L81692
	fld	DWORD PTR _vec$[ebp+8]
	fsub	DWORD PTR __real@3ba3d70a
	fstp	DWORD PTR _vec$[ebp+8]
$L81692:

; 531  : 	if (Keys[DIK_NUMPAD6]) vec.v[Z] += 0.005f;

	movsx	eax, BYTE PTR ?Keys@@3PADA+77
	test	eax, eax
	je	SHORT $L81693
	fld	DWORD PTR _vec$[ebp+8]
	fadd	DWORD PTR __real@3ba3d70a
	fstp	DWORD PTR _vec$[ebp+8]
$L81693:

; 532  : 
; 533  : 	if (Keys[DIK_NUMPAD1] && !LastKeys[DIK_NUMPAD1]) vec.v[X] += 0.25f;

	movsx	eax, BYTE PTR ?Keys@@3PADA+79
	test	eax, eax
	je	SHORT $L81694
	movsx	eax, BYTE PTR ?LastKeys@@3PADA+79
	test	eax, eax
	jne	SHORT $L81694
	fld	DWORD PTR _vec$[ebp]
	fadd	DWORD PTR __real@3e800000
	fstp	DWORD PTR _vec$[ebp]
$L81694:

; 534  : 	if (Keys[DIK_NUMPAD2] && !LastKeys[DIK_NUMPAD2]) vec.v[Y] += 0.25f;

	movsx	eax, BYTE PTR ?Keys@@3PADA+80
	test	eax, eax
	je	SHORT $L81695
	movsx	eax, BYTE PTR ?LastKeys@@3PADA+80
	test	eax, eax
	jne	SHORT $L81695
	fld	DWORD PTR _vec$[ebp+4]
	fadd	DWORD PTR __real@3e800000
	fstp	DWORD PTR _vec$[ebp+4]
$L81695:

; 535  : 	if (Keys[DIK_NUMPAD3] && !LastKeys[DIK_NUMPAD3]) vec.v[Z] += 0.25f;

	movsx	eax, BYTE PTR ?Keys@@3PADA+81
	test	eax, eax
	je	SHORT $L81696
	movsx	eax, BYTE PTR ?LastKeys@@3PADA+81
	test	eax, eax
	jne	SHORT $L81696
	fld	DWORD PTR _vec$[ebp+8]
	fadd	DWORD PTR __real@3e800000
	fstp	DWORD PTR _vec$[ebp+8]
$L81696:

; 536  : 
; 537  : 	if (Keys[DIK_NUMPAD0]) CopyMatrix(&IdentityMatrix, &CurrentFileZone->Matrix);

	movsx	eax, BYTE PTR ?Keys@@3PADA+82
	test	eax, eax
	je	SHORT $L81697
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	add	eax, 16					; 00000010H
	push	eax
	push	OFFSET FLAT:?IdentityMatrix@@3TMatrixUnion@@A ; IdentityMatrix
	call	?CopyMatrix@@YAXPATMatrixUnion@@0@Z	; CopyMatrix
	add	esp, 8
$L81697:

; 538  : 
; 539  : 	RotMatrixZYX(&mat, vec.v[X], vec.v[Y], vec.v[Z]);

	mov	eax, DWORD PTR _vec$[ebp+8]
	push	eax
	mov	ecx, DWORD PTR _vec$[ebp+4]
	push	ecx
	mov	edx, DWORD PTR _vec$[ebp]
	push	edx
	lea	eax, DWORD PTR _mat$[ebp]
	push	eax
	call	?RotMatrixZYX@@YAXPATMatrixUnion@@MMM@Z	; RotMatrixZYX
	add	esp, 16					; 00000010H

; 540  : 
; 541  : 	if (FileZoneAxisType)

	cmp	DWORD PTR _FileZoneAxisType, 0
	je	$L81698

; 542  : 	{
; 543  : 		MulMatrix(&mat, &CurrentFileZone->Matrix, &mat2);

	lea	eax, DWORD PTR _mat2$[ebp]
	push	eax
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	add	ecx, 16					; 00000010H
	push	ecx
	lea	edx, DWORD PTR _mat$[ebp]
	push	edx
	call	?MulMatrix@@YAXPATMatrixUnion@@00@Z	; MulMatrix
	add	esp, 12					; 0000000cH

; 544  : 		CopyMatrix(&mat2, &CurrentFileZone->Matrix);

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	add	eax, 16					; 00000010H
	push	eax
	lea	ecx, DWORD PTR _mat2$[ebp]
	push	ecx
	call	?CopyMatrix@@YAXPATMatrixUnion@@0@Z	; CopyMatrix
	add	esp, 8

; 545  : 		NormalizeMatrix(&CurrentFileZone->Matrix);

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+28]
	fmul	DWORD PTR [ecx+28]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [edx+32]
	fmul	DWORD PTR [eax+32]
	faddp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [ecx+36]
	fmul	DWORD PTR [edx+36]
	faddp	ST(1), ST(0)
	push	ecx
	fstp	DWORD PTR [esp]
	call	?sqrt@@YAMM@Z				; sqrt
	add	esp, 4
	fdivr	DWORD PTR __real@3f800000
	fstp	DWORD PTR __mul$81699[ebp]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR __mul$81699[ebp]
	fmul	DWORD PTR [eax+28]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+28]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR __mul$81699[ebp]
	fmul	DWORD PTR [eax+32]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+32]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR __mul$81699[ebp]
	fmul	DWORD PTR [eax+36]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+36]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+40]
	fmul	DWORD PTR [ecx+40]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [edx+44]
	fmul	DWORD PTR [eax+44]
	faddp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [ecx+48]
	fmul	DWORD PTR [edx+48]
	faddp	ST(1), ST(0)
	push	ecx
	fstp	DWORD PTR [esp]
	call	?sqrt@@YAMM@Z				; sqrt
	add	esp, 4
	fdivr	DWORD PTR __real@3f800000
	fstp	DWORD PTR __mul$81701[ebp]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR __mul$81701[ebp]
	fmul	DWORD PTR [eax+40]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+40]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR __mul$81701[ebp]
	fmul	DWORD PTR [eax+44]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+44]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR __mul$81701[ebp]
	fmul	DWORD PTR [eax+48]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+48]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+32]
	fmul	DWORD PTR [ecx+48]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [edx+36]
	fmul	DWORD PTR [eax+44]
	fsubp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+16]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+36]
	fmul	DWORD PTR [ecx+40]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [edx+28]
	fmul	DWORD PTR [eax+48]
	fsubp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+20]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+28]
	fmul	DWORD PTR [ecx+44]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [edx+32]
	fmul	DWORD PTR [eax+40]
	fsubp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+24]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+44]
	fmul	DWORD PTR [ecx+24]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [edx+48]
	fmul	DWORD PTR [eax+20]
	fsubp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+28]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+48]
	fmul	DWORD PTR [ecx+16]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [edx+40]
	fmul	DWORD PTR [eax+24]
	fsubp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+32]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+40]
	fmul	DWORD PTR [ecx+20]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [edx+44]
	fmul	DWORD PTR [eax+16]
	fsubp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+36]

; 546  : 	}
; 547  : 	else if (vec.v[X] || vec.v[Y] || vec.v[Z])

	jmp	$L81583
$L81698:
	fld	DWORD PTR __real@00000000
	fld	DWORD PTR _vec$[ebp]
	fucompp
	fnstsw	ax
	test	ah, 68					; 00000044H
	jp	SHORT $L81705
	fld	DWORD PTR __real@00000000
	fld	DWORD PTR _vec$[ebp+4]
	fucompp
	fnstsw	ax
	test	ah, 68					; 00000044H
	jp	SHORT $L81705
	fld	DWORD PTR __real@00000000
	fld	DWORD PTR _vec$[ebp+8]
	fucompp
	fnstsw	ax
	test	ah, 68					; 00000044H
	jnp	$L81583
$L81705:

; 548  : 	{
; 549  : 		RotVector(&ViewMatrix, &CurrentFileZone->Matrix.mv[X], &r);

	lea	eax, DWORD PTR _r$[ebp]
	push	eax
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	add	ecx, 16					; 00000010H
	push	ecx
	push	OFFSET FLAT:?ViewMatrix@@3TMatrixUnion@@A ; ViewMatrix
	call	?RotVector@@YAXPATMatrixUnion@@PAUVectorStruct@@1@Z ; RotVector
	add	esp, 12					; 0000000cH

; 550  : 		RotVector(&ViewMatrix, &CurrentFileZone->Matrix.mv[Y], &u);

	lea	eax, DWORD PTR _u$[ebp]
	push	eax
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	add	ecx, 28					; 0000001cH
	push	ecx
	push	OFFSET FLAT:?ViewMatrix@@3TMatrixUnion@@A ; ViewMatrix
	call	?RotVector@@YAXPATMatrixUnion@@PAUVectorStruct@@1@Z ; RotVector
	add	esp, 12					; 0000000cH

; 551  : 		RotVector(&ViewMatrix, &CurrentFileZone->Matrix.mv[Z], &l);

	lea	eax, DWORD PTR _l$[ebp]
	push	eax
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	add	ecx, 40					; 00000028H
	push	ecx
	push	OFFSET FLAT:?ViewMatrix@@3TMatrixUnion@@A ; ViewMatrix
	call	?RotVector@@YAXPATMatrixUnion@@PAUVectorStruct@@1@Z ; RotVector
	add	esp, 12					; 0000000cH

; 552  : 
; 553  : 		RotVector(&mat, &r, &r2);

	lea	eax, DWORD PTR _r2$[ebp]
	push	eax
	lea	ecx, DWORD PTR _r$[ebp]
	push	ecx
	lea	edx, DWORD PTR _mat$[ebp]
	push	edx
	call	?RotVector@@YAXPATMatrixUnion@@PAUVectorStruct@@1@Z ; RotVector
	add	esp, 12					; 0000000cH

; 554  : 		RotVector(&mat, &u, &u2);

	lea	eax, DWORD PTR _u2$[ebp]
	push	eax
	lea	ecx, DWORD PTR _u$[ebp]
	push	ecx
	lea	edx, DWORD PTR _mat$[ebp]
	push	edx
	call	?RotVector@@YAXPATMatrixUnion@@PAUVectorStruct@@1@Z ; RotVector
	add	esp, 12					; 0000000cH

; 555  : 		RotVector(&mat, &l, &l2);

	lea	eax, DWORD PTR _l2$[ebp]
	push	eax
	lea	ecx, DWORD PTR _l$[ebp]
	push	ecx
	lea	edx, DWORD PTR _mat$[ebp]
	push	edx
	call	?RotVector@@YAXPATMatrixUnion@@PAUVectorStruct@@1@Z ; RotVector
	add	esp, 12					; 0000000cH

; 556  : 
; 557  : 		RotVector(&CAM_MainCamera->WMatrix, &r2, &CurrentFileZone->Matrix.mv[X]);

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	add	eax, 16					; 00000010H
	push	eax
	lea	ecx, DWORD PTR _r2$[ebp]
	push	ecx
	mov	edx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	add	edx, 16					; 00000010H
	push	edx
	call	?RotVector@@YAXPATMatrixUnion@@PAUVectorStruct@@1@Z ; RotVector
	add	esp, 12					; 0000000cH

; 558  : 		RotVector(&CAM_MainCamera->WMatrix, &u2, &CurrentFileZone->Matrix.mv[Y]);

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	add	eax, 28					; 0000001cH
	push	eax
	lea	ecx, DWORD PTR _u2$[ebp]
	push	ecx
	mov	edx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	add	edx, 16					; 00000010H
	push	edx
	call	?RotVector@@YAXPATMatrixUnion@@PAUVectorStruct@@1@Z ; RotVector
	add	esp, 12					; 0000000cH

; 559  : 		RotVector(&CAM_MainCamera->WMatrix, &l2, &CurrentFileZone->Matrix.mv[Z]);

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	add	eax, 40					; 00000028H
	push	eax
	lea	ecx, DWORD PTR _l2$[ebp]
	push	ecx
	mov	edx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	add	edx, 16					; 00000010H
	push	edx
	call	?RotVector@@YAXPATMatrixUnion@@PAUVectorStruct@@1@Z ; RotVector
	add	esp, 12					; 0000000cH

; 560  : 
; 561  : 		NormalizeMatrix(&CurrentFileZone->Matrix);

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+28]
	fmul	DWORD PTR [ecx+28]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [edx+32]
	fmul	DWORD PTR [eax+32]
	faddp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [ecx+36]
	fmul	DWORD PTR [edx+36]
	faddp	ST(1), ST(0)
	push	ecx
	fstp	DWORD PTR [esp]
	call	?sqrt@@YAMM@Z				; sqrt
	add	esp, 4
	fdivr	DWORD PTR __real@3f800000
	fstp	DWORD PTR __mul$81706[ebp]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR __mul$81706[ebp]
	fmul	DWORD PTR [eax+28]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+28]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR __mul$81706[ebp]
	fmul	DWORD PTR [eax+32]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+32]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR __mul$81706[ebp]
	fmul	DWORD PTR [eax+36]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+36]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+40]
	fmul	DWORD PTR [ecx+40]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [edx+44]
	fmul	DWORD PTR [eax+44]
	faddp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [ecx+48]
	fmul	DWORD PTR [edx+48]
	faddp	ST(1), ST(0)
	push	ecx
	fstp	DWORD PTR [esp]
	call	?sqrt@@YAMM@Z				; sqrt
	add	esp, 4
	fdivr	DWORD PTR __real@3f800000
	fstp	DWORD PTR __mul$81708[ebp]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR __mul$81708[ebp]
	fmul	DWORD PTR [eax+40]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+40]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR __mul$81708[ebp]
	fmul	DWORD PTR [eax+44]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+44]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR __mul$81708[ebp]
	fmul	DWORD PTR [eax+48]
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+48]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+32]
	fmul	DWORD PTR [ecx+48]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [edx+36]
	fmul	DWORD PTR [eax+44]
	fsubp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+16]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+36]
	fmul	DWORD PTR [ecx+40]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [edx+28]
	fmul	DWORD PTR [eax+48]
	fsubp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+20]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+28]
	fmul	DWORD PTR [ecx+44]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [edx+32]
	fmul	DWORD PTR [eax+40]
	fsubp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+24]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+44]
	fmul	DWORD PTR [ecx+24]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [edx+48]
	fmul	DWORD PTR [eax+20]
	fsubp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+28]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+48]
	fmul	DWORD PTR [ecx+16]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [edx+40]
	fmul	DWORD PTR [eax+24]
	fsubp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+32]
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [eax+40]
	fmul	DWORD PTR [ecx+20]
	mov	edx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fld	DWORD PTR [edx+44]
	fmul	DWORD PTR [eax+16]
	fsubp	ST(1), ST(0)
	mov	ecx, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	fstp	DWORD PTR [ecx+36]
$L81583:

; 562  : 	}
; 563  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
$L81958:
	DD	$L81663
	DD	$L81665
	DD	$L81667
	DD	$L81669
	DD	$L81671
	DD	$L81673
$L81959:
	DD	$L81680
	DD	$L81681
	DD	$L81682
	DD	$L81683
	DD	$L81684
	DD	$L81685
?EditFileZones@@YAXXZ ENDP				; EditFileZones
_TEXT	ENDS
PUBLIC	_sqrtf
; Function compile flags: /Odt /ZI
; File c:\program files\microsoft visual studio .net 2003\vc7\include\math.h
;	COMDAT ?sqrt@@YAMM@Z
_TEXT	SEGMENT
__X$ = 8						; size = 4
?sqrt@@YAMM@Z PROC NEAR					; sqrt, COMDAT

; 579  :         {return (sqrtf(_X)); }

	push	ebp
	mov	ebp, esp
	sub	esp, 64					; 00000040H
	push	ebx
	push	esi
	push	edi
	mov	eax, DWORD PTR __X$[ebp]
	push	eax
	call	_sqrtf
	add	esp, 4
	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
?sqrt@@YAMM@Z ENDP					; sqrt
_TEXT	ENDS
EXTRN	_sqrt:NEAR
; Function compile flags: /Odt /ZI
;	COMDAT _sqrtf
_TEXT	SEGMENT
tv70 = -68						; size = 4
__X$ = 8						; size = 4
_sqrtf	PROC NEAR					; COMDAT

; 470  :         {return ((float)sqrt((double)_X)); }

	push	ebp
	mov	ebp, esp
	sub	esp, 68					; 00000044H
	push	ebx
	push	esi
	push	edi
	fld	DWORD PTR __X$[ebp]
	sub	esp, 8
	fstp	QWORD PTR [esp]
	call	_sqrt
	add	esp, 8
	fst	DWORD PTR tv70[ebp]
	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_sqrtf	ENDP
_TEXT	ENDS
PUBLIC	?DrawFileZones@@YAXXZ				; DrawFileZones
PUBLIC	??_C@_02DPKJAMEF@?$CFd?$AA@			; `string'
EXTRN	?DrawNearClipPolyTEX0@@YAXPAUVectorStruct@@PAJJ@Z:NEAR ; DrawNearClipPolyTEX0
EXTRN	?DrawAxis@@YAXPATMatrixUnion@@PAUVectorStruct@@@Z:NEAR ; DrawAxis
EXTRN	?DrawLine@@YAXPAUVectorStruct@@0JJ@Z:NEAR	; DrawLine
EXTRN	?DumpText3D@@YAXPAUVectorStruct@@MMJPAD@Z:NEAR	; DumpText3D
EXTRN	?DxState@@3UDX_STATE@@A:BYTE			; DxState
EXTRN	?D3Ddevice@@3PAUIDirect3DDevice3@@A:DWORD	; D3Ddevice
EXTRN	?RenderStateChange@@3JA:DWORD			; RenderStateChange
EXTRN	?TextureStateChange@@3JA:DWORD			; TextureStateChange
EXTRN	?RenderTP@@3FA:WORD				; RenderTP
EXTRN	?RenderAlpha@@3FA:WORD				; RenderAlpha
EXTRN	?RenderAlphaSrc@@3FA:WORD			; RenderAlphaSrc
EXTRN	?RenderAlphaDest@@3FA:WORD			; RenderAlphaDest
EXTRN	?RenderZbuffer@@3FA:WORD			; RenderZbuffer
EXTRN	?AiNode@@3PAU_AINODE@@A:DWORD			; AiNode
EXTRN	?AiNodeNum@@3JA:DWORD				; AiNodeNum
EXTRN	?EditAiNodeModel@@3PAUMODEL@@A:BYTE		; EditAiNodeModel
EXTRN	?FrameCount@@3KA:DWORD				; FrameCount
EXTRN	?TexInfo@@3PAUTEXINFO@@A:DWORD			; TexInfo
EXTRN	?DrawModel@@YAXPAUMODEL@@PATMatrixUnion@@PAUVectorStruct@@F@Z:NEAR ; DrawModel
EXTRN	?MatMulScalar@@YAXPATMatrixUnion@@M@Z:NEAR	; MatMulScalar
;	COMDAT ??_C@_02DPKJAMEF@?$CFd?$AA@
; File c:\documents and settings\jarhead\desktop\shit to display my love for xbox revolt and fuck you borman-ness\revolt source\source\editzone.cpp
CONST	SEGMENT
??_C@_02DPKJAMEF@?$CFd?$AA@ DB '%d', 00H		; `string'
; Function compile flags: /Odt /ZI
CONST	ENDS
;	COMDAT ?DrawFileZones@@YAXXZ
_TEXT	SEGMENT
tv830 = -544						; size = 4
_v2$ = -476						; size = 12
_v1$ = -464						; size = 12
_node$ = -452						; size = 4
_buf$ = -448						; size = 128
_vec$ = -320						; size = 12
_mat$ = -308						; size = 36
_pos$ = -272						; size = 48
_vpos$ = -224						; size = 96
_v$ = -128						; size = 96
_zone$ = -32						; size = 4
_col$ = -28						; size = 16
_k$ = -12						; size = 4
_j$ = -8						; size = 4
_i$ = -4						; size = 4
?DrawFileZones@@YAXXZ PROC NEAR				; DrawFileZones, COMDAT

; 570  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 544				; 00000220H
	push	ebx
	push	esi
	push	edi

; 571  : 	long i, j, k, col[4];
; 572  : 	FILE_ZONE *zone;
; 573  : 	VEC v[8], vpos[8], pos[4];
; 574  : 	MAT mat;
; 575  : 	VEC vec;
; 576  : 	char buf[128];
; 577  : 	ONE_AINODE *node;
; 578  : 	VEC v1, v2;
; 579  : 
; 580  : // draw zones?
; 581  : 
; 582  : 	if (ShowNodes)

	cmp	DWORD PTR _ShowNodes, 0
	je	$L81727

; 583  : 	{
; 584  : 		ALPHA_OFF();

	movsx	eax, WORD PTR ?RenderAlpha@@3FA		; RenderAlpha
	test	eax, eax
	je	SHORT $L81728
	mov	WORD PTR ?RenderAlpha@@3FA, 0		; RenderAlpha
	movsx	eax, WORD PTR ?RenderAlpha@@3FA		; RenderAlpha
	push	eax
	push	27					; 0000001bH
	mov	ecx, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	mov	edx, DWORD PTR [ecx]
	mov	eax, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	push	eax
	call	DWORD PTR [edx+88]
	mov	eax, DWORD PTR ?RenderStateChange@@3JA	; RenderStateChange
	add	eax, 1
	mov	DWORD PTR ?RenderStateChange@@3JA, eax	; RenderStateChange
$L81728:

; 585  : 		ZBUFFER_ON();

	movsx	eax, WORD PTR ?RenderZbuffer@@3FA	; RenderZbuffer
	cmp	eax, 1
	je	SHORT $L81729
	mov	WORD PTR ?RenderZbuffer@@3FA, 1		; RenderZbuffer
	movsx	eax, WORD PTR ?RenderZbuffer@@3FA	; RenderZbuffer
	push	eax
	push	7
	mov	ecx, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	mov	edx, DWORD PTR [ecx]
	mov	eax, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	push	eax
	call	DWORD PTR [edx+88]
	mov	eax, DWORD PTR ?RenderStateChange@@3JA	; RenderStateChange
	add	eax, 1
	mov	DWORD PTR ?RenderStateChange@@3JA, eax	; RenderStateChange
$L81729:

; 586  : 
; 587  : // loop thru all nodes
; 588  : 
; 589  : 		for (i = 0 ; i < AiNodeNum ; i++)

	mov	DWORD PTR _i$[ebp], 0
	jmp	SHORT $L81730
$L81731:
	mov	eax, DWORD PTR _i$[ebp]
	add	eax, 1
	mov	DWORD PTR _i$[ebp], eax
$L81730:
	mov	eax, DWORD PTR _i$[ebp]
	cmp	eax, DWORD PTR ?AiNodeNum@@3JA		; AiNodeNum
	jge	$L81727

; 590  : 		{
; 591  : 			for (j = 0 ; j < 2 ; j++)

	mov	DWORD PTR _j$[ebp], 0
	jmp	SHORT $L81733
$L81734:
	mov	eax, DWORD PTR _j$[ebp]
	add	eax, 1
	mov	DWORD PTR _j$[ebp], eax
$L81733:
	cmp	DWORD PTR _j$[ebp], 2
	jge	$L81735

; 592  : 			{
; 593  : 				node = &AiNode[i].Node[j];

	mov	eax, DWORD PTR _i$[ebp]
	imul	eax, 104				; 00000068H
	add	eax, DWORD PTR ?AiNode@@3PAU_AINODE@@A	; AiNode
	mov	ecx, DWORD PTR _j$[ebp]
	shl	ecx, 4
	lea	edx, DWORD PTR [eax+ecx+36]
	mov	DWORD PTR _node$[ebp], edx

; 594  : 
; 595  : // draw it
; 596  : 
; 597  : 				DrawModel(&EditAiNodeModel[j], &IdentityMatrix, &node->Pos, MODEL_PLAIN);

	push	0
	mov	eax, DWORD PTR _node$[ebp]
	add	eax, 4
	push	eax
	push	OFFSET FLAT:?IdentityMatrix@@3TMatrixUnion@@A ; IdentityMatrix
	mov	ecx, DWORD PTR _j$[ebp]
	imul	ecx, 60					; 0000003cH
	add	ecx, OFFSET FLAT:?EditAiNodeModel@@3PAUMODEL@@A ; EditAiNodeModel
	push	ecx
	call	?DrawModel@@YAXPAUMODEL@@PATMatrixUnion@@PAUVectorStruct@@F@Z ; DrawModel
	add	esp, 16					; 00000010H

; 598  : 
; 599  : // draw link?
; 600  : 
; 601  : 				for (k = 0 ; k < MAX_AINODE_LINKS ; k++) if (AiNode[i].Next[k])

	mov	DWORD PTR _k$[ebp], 0
	jmp	SHORT $L81736
$L81737:
	mov	eax, DWORD PTR _k$[ebp]
	add	eax, 1
	mov	DWORD PTR _k$[ebp], eax
$L81736:
	cmp	DWORD PTR _k$[ebp], 2
	jge	$L81738
	mov	eax, DWORD PTR _i$[ebp]
	imul	eax, 104				; 00000068H
	add	eax, DWORD PTR ?AiNode@@3PAU_AINODE@@A	; AiNode
	mov	ecx, DWORD PTR _k$[ebp]
	cmp	DWORD PTR [eax+ecx*4+28], 0
	je	$L81739

; 602  : 				{
; 603  : 					v1.v[X] = AiNode[i].Node[j].Pos.v[X];

	mov	eax, DWORD PTR _i$[ebp]
	imul	eax, 104				; 00000068H
	add	eax, DWORD PTR ?AiNode@@3PAU_AINODE@@A	; AiNode
	mov	ecx, DWORD PTR _j$[ebp]
	shl	ecx, 4
	mov	edx, DWORD PTR [eax+ecx+40]
	mov	DWORD PTR _v1$[ebp], edx

; 604  : 					v1.v[Y] = AiNode[i].Node[j].Pos.v[Y];

	mov	eax, DWORD PTR _i$[ebp]
	imul	eax, 104				; 00000068H
	add	eax, DWORD PTR ?AiNode@@3PAU_AINODE@@A	; AiNode
	mov	ecx, DWORD PTR _j$[ebp]
	shl	ecx, 4
	mov	edx, DWORD PTR [eax+ecx+44]
	mov	DWORD PTR _v1$[ebp+4], edx

; 605  : 					v1.v[Z] = AiNode[i].Node[j].Pos.v[Z];

	mov	eax, DWORD PTR _i$[ebp]
	imul	eax, 104				; 00000068H
	add	eax, DWORD PTR ?AiNode@@3PAU_AINODE@@A	; AiNode
	mov	ecx, DWORD PTR _j$[ebp]
	shl	ecx, 4
	mov	edx, DWORD PTR [eax+ecx+48]
	mov	DWORD PTR _v1$[ebp+8], edx

; 606  : 
; 607  : 					v2.v[X] = AiNode[i].Next[k]->Node[j].Pos.v[X];

	mov	eax, DWORD PTR _i$[ebp]
	imul	eax, 104				; 00000068H
	add	eax, DWORD PTR ?AiNode@@3PAU_AINODE@@A	; AiNode
	mov	ecx, DWORD PTR _k$[ebp]
	mov	edx, DWORD PTR [eax+ecx*4+28]
	mov	eax, DWORD PTR _j$[ebp]
	shl	eax, 4
	mov	ecx, DWORD PTR [edx+eax+40]
	mov	DWORD PTR _v2$[ebp], ecx

; 608  : 					v2.v[Y] = AiNode[i].Next[k]->Node[j].Pos.v[Y];

	mov	eax, DWORD PTR _i$[ebp]
	imul	eax, 104				; 00000068H
	add	eax, DWORD PTR ?AiNode@@3PAU_AINODE@@A	; AiNode
	mov	ecx, DWORD PTR _k$[ebp]
	mov	edx, DWORD PTR [eax+ecx*4+28]
	mov	eax, DWORD PTR _j$[ebp]
	shl	eax, 4
	mov	ecx, DWORD PTR [edx+eax+44]
	mov	DWORD PTR _v2$[ebp+4], ecx

; 609  : 					v2.v[Z] = AiNode[i].Next[k]->Node[j].Pos.v[Z];

	mov	eax, DWORD PTR _i$[ebp]
	imul	eax, 104				; 00000068H
	add	eax, DWORD PTR ?AiNode@@3PAU_AINODE@@A	; AiNode
	mov	ecx, DWORD PTR _k$[ebp]
	mov	edx, DWORD PTR [eax+ecx*4+28]
	mov	eax, DWORD PTR _j$[ebp]
	shl	eax, 4
	mov	ecx, DWORD PTR [edx+eax+48]
	mov	DWORD PTR _v2$[ebp+8], ecx

; 610  : 
; 611  : 					if (!j)

	cmp	DWORD PTR _j$[ebp], 0
	jne	SHORT $L81740

; 612  : 					{
; 613  : 						DrawLine(&v1, &v2, 0x000000, 0xff0000);

	push	16711680				; 00ff0000H
	push	0
	lea	eax, DWORD PTR _v2$[ebp]
	push	eax
	lea	ecx, DWORD PTR _v1$[ebp]
	push	ecx
	call	?DrawLine@@YAXPAUVectorStruct@@0JJ@Z	; DrawLine
	add	esp, 16					; 00000010H

; 614  : 					}
; 615  : 					else

	jmp	SHORT $L81739
$L81740:

; 616  : 					{
; 617  : 						DrawLine(&v1, &v2, 0x000000, 0x00ff00);

	push	65280					; 0000ff00H
	push	0
	lea	eax, DWORD PTR _v2$[ebp]
	push	eax
	lea	ecx, DWORD PTR _v1$[ebp]
	push	ecx
	call	?DrawLine@@YAXPAUVectorStruct@@0JJ@Z	; DrawLine
	add	esp, 16					; 00000010H
$L81739:

; 618  : 					}
; 619  : 				}
; 620  : 			}

	jmp	$L81737
$L81738:
	jmp	$L81734
$L81735:

; 621  : 
; 622  : // draw 'brother' link
; 623  : 
; 624  : 			DrawLine(&AiNode[i].Node[0].Pos, &AiNode[i].Node[1].Pos, 0xffff00, 0xffff00);

	push	16776960				; 00ffff00H
	push	16776960				; 00ffff00H
	mov	eax, DWORD PTR _i$[ebp]
	imul	eax, 104				; 00000068H
	mov	ecx, DWORD PTR ?AiNode@@3PAU_AINODE@@A	; AiNode
	lea	edx, DWORD PTR [ecx+eax+56]
	push	edx
	mov	eax, DWORD PTR _i$[ebp]
	imul	eax, 104				; 00000068H
	mov	ecx, DWORD PTR ?AiNode@@3PAU_AINODE@@A	; AiNode
	lea	edx, DWORD PTR [ecx+eax+40]
	push	edx
	call	?DrawLine@@YAXPAUVectorStruct@@0JJ@Z	; DrawLine
	add	esp, 16					; 00000010H

; 625  : 		}

	jmp	$L81731
$L81727:

; 626  : 	}
; 627  : 
; 628  : // set render states
; 629  : 
; 630  : 	ALPHA_SRC(D3DBLEND_SRCALPHA);

	movsx	eax, WORD PTR ?RenderAlphaSrc@@3FA	; RenderAlphaSrc
	cmp	eax, 5
	je	SHORT $L81742
	mov	WORD PTR ?RenderAlphaSrc@@3FA, 5	; RenderAlphaSrc
	movsx	eax, WORD PTR ?RenderAlphaSrc@@3FA	; RenderAlphaSrc
	push	eax
	push	19					; 00000013H
	mov	ecx, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	mov	edx, DWORD PTR [ecx]
	mov	eax, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	push	eax
	call	DWORD PTR [edx+88]
	mov	eax, DWORD PTR ?RenderStateChange@@3JA	; RenderStateChange
	add	eax, 1
	mov	DWORD PTR ?RenderStateChange@@3JA, eax	; RenderStateChange
$L81742:

; 631  : 	ALPHA_DEST(D3DBLEND_INVSRCALPHA);

	movsx	eax, WORD PTR ?RenderAlphaDest@@3FA	; RenderAlphaDest
	cmp	eax, 6
	je	SHORT $L81743
	mov	WORD PTR ?RenderAlphaDest@@3FA, 6	; RenderAlphaDest
	movsx	eax, WORD PTR ?RenderAlphaDest@@3FA	; RenderAlphaDest
	push	eax
	push	20					; 00000014H
	mov	ecx, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	mov	edx, DWORD PTR [ecx]
	mov	eax, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	push	eax
	call	DWORD PTR [edx+88]
	mov	eax, DWORD PTR ?RenderStateChange@@3JA	; RenderStateChange
	add	eax, 1
	mov	DWORD PTR ?RenderStateChange@@3JA, eax	; RenderStateChange
$L81743:

; 632  : 	WIREFRAME_OFF();

	push	3
	push	8
	mov	eax, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	mov	ecx, DWORD PTR [eax]
	mov	edx, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	push	edx
	call	DWORD PTR [ecx+88]
	mov	eax, DWORD PTR ?RenderStateChange@@3JA	; RenderStateChange
	add	eax, 1
	mov	DWORD PTR ?RenderStateChange@@3JA, eax	; RenderStateChange

; 633  : 
; 634  : // loop thru all zones
; 635  : 
; 636  : 	zone = FileZone;

	mov	eax, DWORD PTR _FileZone
	mov	DWORD PTR _zone$[ebp], eax

; 637  : 	for (i = 0 ; i < FileZoneNum ; i++, zone++)

	mov	DWORD PTR _i$[ebp], 0
	jmp	SHORT $L81744
$L81745:
	mov	eax, DWORD PTR _i$[ebp]
	add	eax, 1
	mov	DWORD PTR _i$[ebp], eax
	mov	ecx, DWORD PTR _zone$[ebp]
	add	ecx, 64					; 00000040H
	mov	DWORD PTR _zone$[ebp], ecx
$L81744:
	mov	eax, DWORD PTR _i$[ebp]
	cmp	eax, DWORD PTR _FileZoneNum
	jge	$L81746

; 638  : 	{
; 639  : 
; 640  : // big brother skip?
; 641  : 
; 642  : 		if (!BigBrother && CurrentFileZone && CurrentFileZone != zone)

	cmp	DWORD PTR _BigBrother, 0
	jne	SHORT $L81747
	cmp	DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A, 0 ; CurrentFileZone
	je	SHORT $L81747
	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	cmp	eax, DWORD PTR _zone$[ebp]
	je	SHORT $L81747

; 643  : 			continue;

	jmp	SHORT $L81745
$L81747:

; 644  : 
; 645  : // get 8 corners
; 646  : 
; 647  : 		SetVector(&v[0], -zone->Size[X], -zone->Size[Y], -zone->Size[Z]);

	mov	eax, DWORD PTR _zone$[ebp]
	fld	DWORD PTR [eax+52]
	fchs
	fstp	DWORD PTR _v$[ebp]
	mov	eax, DWORD PTR _zone$[ebp]
	fld	DWORD PTR [eax+56]
	fchs
	fstp	DWORD PTR _v$[ebp+4]
	mov	eax, DWORD PTR _zone$[ebp]
	fld	DWORD PTR [eax+60]
	fchs
	fstp	DWORD PTR _v$[ebp+8]

; 648  : 		SetVector(&v[1], zone->Size[X], -zone->Size[Y], -zone->Size[Z]);

	mov	eax, DWORD PTR _zone$[ebp]
	mov	ecx, DWORD PTR [eax+52]
	mov	DWORD PTR _v$[ebp+12], ecx
	mov	eax, DWORD PTR _zone$[ebp]
	fld	DWORD PTR [eax+56]
	fchs
	fstp	DWORD PTR _v$[ebp+16]
	mov	eax, DWORD PTR _zone$[ebp]
	fld	DWORD PTR [eax+60]
	fchs
	fstp	DWORD PTR _v$[ebp+20]

; 649  : 		SetVector(&v[2], -zone->Size[X], -zone->Size[Y], zone->Size[Z]);

	mov	eax, DWORD PTR _zone$[ebp]
	fld	DWORD PTR [eax+52]
	fchs
	fstp	DWORD PTR _v$[ebp+24]
	mov	eax, DWORD PTR _zone$[ebp]
	fld	DWORD PTR [eax+56]
	fchs
	fstp	DWORD PTR _v$[ebp+28]
	mov	eax, DWORD PTR _zone$[ebp]
	mov	ecx, DWORD PTR [eax+60]
	mov	DWORD PTR _v$[ebp+32], ecx

; 650  : 		SetVector(&v[3], zone->Size[X], -zone->Size[Y], zone->Size[Z]);

	mov	eax, DWORD PTR _zone$[ebp]
	mov	ecx, DWORD PTR [eax+52]
	mov	DWORD PTR _v$[ebp+36], ecx
	mov	eax, DWORD PTR _zone$[ebp]
	fld	DWORD PTR [eax+56]
	fchs
	fstp	DWORD PTR _v$[ebp+40]
	mov	eax, DWORD PTR _zone$[ebp]
	mov	ecx, DWORD PTR [eax+60]
	mov	DWORD PTR _v$[ebp+44], ecx

; 651  : 
; 652  : 		SetVector(&v[4], -zone->Size[X], zone->Size[Y], -zone->Size[Z]);

	mov	eax, DWORD PTR _zone$[ebp]
	fld	DWORD PTR [eax+52]
	fchs
	fstp	DWORD PTR _v$[ebp+48]
	mov	eax, DWORD PTR _zone$[ebp]
	mov	ecx, DWORD PTR [eax+56]
	mov	DWORD PTR _v$[ebp+52], ecx
	mov	eax, DWORD PTR _zone$[ebp]
	fld	DWORD PTR [eax+60]
	fchs
	fstp	DWORD PTR _v$[ebp+56]

; 653  : 		SetVector(&v[5], zone->Size[X], zone->Size[Y], -zone->Size[Z]);

	mov	eax, DWORD PTR _zone$[ebp]
	mov	ecx, DWORD PTR [eax+52]
	mov	DWORD PTR _v$[ebp+60], ecx
	mov	eax, DWORD PTR _zone$[ebp]
	mov	ecx, DWORD PTR [eax+56]
	mov	DWORD PTR _v$[ebp+64], ecx
	mov	eax, DWORD PTR _zone$[ebp]
	fld	DWORD PTR [eax+60]
	fchs
	fstp	DWORD PTR _v$[ebp+68]

; 654  : 		SetVector(&v[6], -zone->Size[X], zone->Size[Y], zone->Size[Z]);

	mov	eax, DWORD PTR _zone$[ebp]
	fld	DWORD PTR [eax+52]
	fchs
	fstp	DWORD PTR _v$[ebp+72]
	mov	eax, DWORD PTR _zone$[ebp]
	mov	ecx, DWORD PTR [eax+56]
	mov	DWORD PTR _v$[ebp+76], ecx
	mov	eax, DWORD PTR _zone$[ebp]
	mov	ecx, DWORD PTR [eax+60]
	mov	DWORD PTR _v$[ebp+80], ecx

; 655  : 		SetVector(&v[7], zone->Size[X], zone->Size[Y], zone->Size[Z]);

	mov	eax, DWORD PTR _zone$[ebp]
	mov	ecx, DWORD PTR [eax+52]
	mov	DWORD PTR _v$[ebp+84], ecx
	mov	eax, DWORD PTR _zone$[ebp]
	mov	ecx, DWORD PTR [eax+56]
	mov	DWORD PTR _v$[ebp+88], ecx
	mov	eax, DWORD PTR _zone$[ebp]
	mov	ecx, DWORD PTR [eax+60]
	mov	DWORD PTR _v$[ebp+92], ecx

; 656  : 
; 657  : 		for (j = 0 ; j < 8 ; j++)

	mov	DWORD PTR _j$[ebp], 0
	jmp	SHORT $L81748
$L81749:
	mov	eax, DWORD PTR _j$[ebp]
	add	eax, 1
	mov	DWORD PTR _j$[ebp], eax
$L81748:
	cmp	DWORD PTR _j$[ebp], 8
	jge	SHORT $L81750

; 658  : 		{
; 659  : 			RotTransVector(&zone->Matrix, &zone->Pos, &v[j], &vpos[j]);

	mov	eax, DWORD PTR _j$[ebp]
	imul	eax, 12					; 0000000cH
	lea	ecx, DWORD PTR _vpos$[ebp+eax]
	push	ecx
	mov	edx, DWORD PTR _j$[ebp]
	imul	edx, 12					; 0000000cH
	lea	eax, DWORD PTR _v$[ebp+edx]
	push	eax
	mov	ecx, DWORD PTR _zone$[ebp]
	add	ecx, 4
	push	ecx
	mov	edx, DWORD PTR _zone$[ebp]
	add	edx, 16					; 00000010H
	push	edx
	call	?RotTransVector@@YAXPATMatrixUnion@@PAUVectorStruct@@11@Z ; RotTransVector
	add	esp, 16					; 00000010H

; 660  : 		}

	jmp	SHORT $L81749
$L81750:

; 661  : 
; 662  : // draw
; 663  : 
; 664  : 		SET_TPAGE(-1);

	movsx	eax, WORD PTR ?RenderTP@@3FA		; RenderTP
	cmp	eax, -1
	je	SHORT $L81751
	mov	WORD PTR ?RenderTP@@3FA, -1		; RenderTP
	movsx	eax, WORD PTR ?RenderTP@@3FA		; RenderTP
	cmp	eax, -1
	jne	SHORT $L81752
	push	0
	push	0
	mov	eax, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	mov	ecx, DWORD PTR [eax]
	mov	edx, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	push	edx
	call	DWORD PTR [ecx+152]
	mov	eax, DWORD PTR ?TextureStateChange@@3JA	; TextureStateChange
	add	eax, 1
	mov	DWORD PTR ?TextureStateChange@@3JA, eax	; TextureStateChange
	jmp	SHORT $L81751
$L81752:
	movsx	eax, WORD PTR ?RenderTP@@3FA		; RenderTP
	shl	eax, 6
	mov	ecx, DWORD PTR ?TexInfo@@3PAUTEXINFO@@A	; TexInfo
	mov	edx, DWORD PTR [ecx+eax+52]
	push	edx
	push	0
	mov	eax, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	mov	ecx, DWORD PTR [eax]
	mov	edx, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	push	edx
	call	DWORD PTR [ecx+152]
	mov	eax, DWORD PTR ?TextureStateChange@@3JA	; TextureStateChange
	add	eax, 1
	mov	DWORD PTR ?TextureStateChange@@3JA, eax	; TextureStateChange
$L81751:

; 665  : 		ALPHA_ON();

	movsx	eax, WORD PTR ?RenderAlpha@@3FA		; RenderAlpha
	test	eax, eax
	jne	SHORT $L81754
	mov	WORD PTR ?RenderAlpha@@3FA, 1		; RenderAlpha
	movsx	eax, WORD PTR ?RenderAlpha@@3FA		; RenderAlpha
	push	eax
	push	27					; 0000001bH
	mov	ecx, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	mov	edx, DWORD PTR [ecx]
	mov	eax, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	push	eax
	call	DWORD PTR [edx+88]
	mov	eax, DWORD PTR ?RenderStateChange@@3JA	; RenderStateChange
	add	eax, 1
	mov	DWORD PTR ?RenderStateChange@@3JA, eax	; RenderStateChange
$L81754:

; 666  : 		ZBUFFER_ON();

	movsx	eax, WORD PTR ?RenderZbuffer@@3FA	; RenderZbuffer
	cmp	eax, 1
	je	SHORT $L81755
	mov	WORD PTR ?RenderZbuffer@@3FA, 1		; RenderZbuffer
	movsx	eax, WORD PTR ?RenderZbuffer@@3FA	; RenderZbuffer
	push	eax
	push	7
	mov	ecx, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	mov	edx, DWORD PTR [ecx]
	mov	eax, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	push	eax
	call	DWORD PTR [edx+88]
	mov	eax, DWORD PTR ?RenderStateChange@@3JA	; RenderStateChange
	add	eax, 1
	mov	DWORD PTR ?RenderStateChange@@3JA, eax	; RenderStateChange
$L81755:

; 667  : 
; 668  : 		for (j = 0 ; j < 6 ; j++)

	mov	DWORD PTR _j$[ebp], 0
	jmp	SHORT $L81756
$L81757:
	mov	eax, DWORD PTR _j$[ebp]
	add	eax, 1
	mov	DWORD PTR _j$[ebp], eax
$L81756:
	cmp	DWORD PTR _j$[ebp], 6
	jge	$L81758

; 669  : 		{
; 670  : 			for (k = 0 ; k < 4 ; k++)

	mov	DWORD PTR _k$[ebp], 0
	jmp	SHORT $L81759
$L81760:
	mov	eax, DWORD PTR _k$[ebp]
	add	eax, 1
	mov	DWORD PTR _k$[ebp], eax
$L81759:
	cmp	DWORD PTR _k$[ebp], 4
	jge	$L81761

; 671  : 			{
; 672  : 				pos[k] = vpos[DrawZoneIndex[j * 4 + k]];

	mov	eax, DWORD PTR _j$[ebp]
	mov	ecx, DWORD PTR _k$[ebp]
	lea	edx, DWORD PTR [ecx+eax*4]
	movzx	eax, WORD PTR _DrawZoneIndex[edx*2]
	imul	eax, 12					; 0000000cH
	lea	ecx, DWORD PTR _vpos$[ebp+eax]
	mov	edx, DWORD PTR _k$[ebp]
	imul	edx, 12					; 0000000cH
	lea	eax, DWORD PTR _pos$[ebp+edx]
	mov	edx, DWORD PTR [ecx]
	mov	DWORD PTR [eax], edx
	mov	edx, DWORD PTR [ecx+4]
	mov	DWORD PTR [eax+4], edx
	mov	ecx, DWORD PTR [ecx+8]
	mov	DWORD PTR [eax+8], ecx

; 673  : 
; 674  : 				if (CurrentFileZone == zone && j == FileZoneSide)

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	cmp	eax, DWORD PTR _zone$[ebp]
	jne	SHORT $L81762
	mov	eax, DWORD PTR _j$[ebp]
	cmp	eax, DWORD PTR _FileZoneSide
	jne	SHORT $L81762

; 675  : 					col[k] = 0x80ffffff * (FrameCount & 1);

	mov	eax, DWORD PTR ?FrameCount@@3KA		; FrameCount
	and	eax, 1
	imul	eax, -2130706433			; 80ffffffH
	mov	ecx, DWORD PTR _k$[ebp]
	mov	DWORD PTR _col$[ebp+ecx*4], eax

; 676  : 				else

	jmp	SHORT $L81763
$L81762:

; 677  : 					col[k] = DrawZoneCol[zone->ID % 6];

	mov	eax, DWORD PTR _zone$[ebp]
	mov	eax, DWORD PTR [eax]
	cdq
	mov	ecx, 6
	idiv	ecx
	mov	eax, DWORD PTR _k$[ebp]
	mov	ecx, DWORD PTR _DrawZoneCol[edx*4]
	mov	DWORD PTR _col$[ebp+eax*4], ecx
$L81763:

; 678  : 			}

	jmp	$L81760
$L81761:

; 679  : 
; 680  : 		DrawNearClipPolyTEX0(pos, col, 4);

	push	4
	lea	eax, DWORD PTR _col$[ebp]
	push	eax
	lea	ecx, DWORD PTR _pos$[ebp]
	push	ecx
	call	?DrawNearClipPolyTEX0@@YAXPAUVectorStruct@@PAJJ@Z ; DrawNearClipPolyTEX0
	add	esp, 12					; 0000000cH

; 681  : 		}

	jmp	$L81757
$L81758:

; 682  : 
; 683  : // display ID
; 684  : 
; 685  : 		wsprintf(buf, "%d", zone->ID);

	mov	eax, DWORD PTR _zone$[ebp]
	mov	ecx, DWORD PTR [eax]
	push	ecx
	push	OFFSET FLAT:??_C@_02DPKJAMEF@?$CFd?$AA@
	lea	edx, DWORD PTR _buf$[ebp]
	push	edx
	call	DWORD PTR __imp__wsprintfA
	add	esp, 12					; 0000000cH

; 686  : 		RotTransVector(&ViewMatrix, &ViewTrans, &zone->Pos, &vec);

	lea	eax, DWORD PTR _vec$[ebp]
	push	eax
	mov	ecx, DWORD PTR _zone$[ebp]
	add	ecx, 4
	push	ecx
	push	OFFSET FLAT:?ViewTrans@@3UVectorStruct@@A ; ViewTrans
	push	OFFSET FLAT:?ViewMatrix@@3TMatrixUnion@@A ; ViewMatrix
	call	?RotTransVector@@YAXPATMatrixUnion@@PAUVectorStruct@@11@Z ; RotTransVector
	add	esp, 16					; 00000010H

; 687  : 		vec.v[X] -= 64 * ((zone->ID >= 10) + 1);

	mov	eax, DWORD PTR _zone$[ebp]
	xor	ecx, ecx
	cmp	DWORD PTR [eax], 10			; 0000000aH
	setge	cl
	add	ecx, 1
	shl	ecx, 6
	mov	DWORD PTR tv830[ebp], ecx
	fild	DWORD PTR tv830[ebp]
	fsubr	DWORD PTR _vec$[ebp]
	fstp	DWORD PTR _vec$[ebp]

; 688  : 		vec.v[Y] -= 128;

	fld	DWORD PTR _vec$[ebp+4]
	fsub	DWORD PTR __real@43000000
	fstp	DWORD PTR _vec$[ebp+4]

; 689  : 		if (vec.v[Z] > RenderSettings.NearClip)

	fld	DWORD PTR _vec$[ebp+8]
	fcomp	DWORD PTR ?RenderSettings@@3URENDER_SETTINGS@@A+28
	fnstsw	ax
	test	ah, 65					; 00000041H
	jne	$L81765

; 690  : 		{
; 691  : 			ALPHA_OFF();

	movsx	eax, WORD PTR ?RenderAlpha@@3FA		; RenderAlpha
	test	eax, eax
	je	SHORT $L81766
	mov	WORD PTR ?RenderAlpha@@3FA, 0		; RenderAlpha
	movsx	eax, WORD PTR ?RenderAlpha@@3FA		; RenderAlpha
	push	eax
	push	27					; 0000001bH
	mov	ecx, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	mov	edx, DWORD PTR [ecx]
	mov	eax, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	push	eax
	call	DWORD PTR [edx+88]
	mov	eax, DWORD PTR ?RenderStateChange@@3JA	; RenderStateChange
	add	eax, 1
	mov	DWORD PTR ?RenderStateChange@@3JA, eax	; RenderStateChange
$L81766:

; 692  : 			ZBUFFER_OFF();

	movsx	eax, WORD PTR ?RenderZbuffer@@3FA	; RenderZbuffer
	test	eax, eax
	je	SHORT $L81767
	mov	WORD PTR ?RenderZbuffer@@3FA, 0		; RenderZbuffer
	movsx	eax, WORD PTR ?RenderZbuffer@@3FA	; RenderZbuffer
	push	eax
	push	7
	mov	ecx, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	mov	edx, DWORD PTR [ecx]
	mov	eax, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	push	eax
	call	DWORD PTR [edx+88]
	mov	eax, DWORD PTR ?RenderStateChange@@3JA	; RenderStateChange
	add	eax, 1
	mov	DWORD PTR ?RenderStateChange@@3JA, eax	; RenderStateChange
$L81767:

; 693  : 			DumpText3D(&vec, 128, 256, 0x00ffff, buf);

	lea	eax, DWORD PTR _buf$[ebp]
	push	eax
	push	65535					; 0000ffffH
	push	1132462080				; 43800000H
	push	1124073472				; 43000000H
	lea	ecx, DWORD PTR _vec$[ebp]
	push	ecx
	call	?DumpText3D@@YAXPAUVectorStruct@@MMJPAD@Z ; DumpText3D
	add	esp, 20					; 00000014H
$L81765:

; 694  : 		}
; 695  : 
; 696  : // draw axis?
; 697  : 
; 698  : 		if (CurrentFileZone == zone)

	mov	eax, DWORD PTR ?CurrentFileZone@@3PAUFILE_ZONE@@A ; CurrentFileZone
	cmp	eax, DWORD PTR _zone$[ebp]
	jne	$L81768

; 699  : 		{
; 700  : 			ALPHA_OFF();

	movsx	eax, WORD PTR ?RenderAlpha@@3FA		; RenderAlpha
	test	eax, eax
	je	SHORT $L81769
	mov	WORD PTR ?RenderAlpha@@3FA, 0		; RenderAlpha
	movsx	eax, WORD PTR ?RenderAlpha@@3FA		; RenderAlpha
	push	eax
	push	27					; 0000001bH
	mov	ecx, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	mov	edx, DWORD PTR [ecx]
	mov	eax, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	push	eax
	call	DWORD PTR [edx+88]
	mov	eax, DWORD PTR ?RenderStateChange@@3JA	; RenderStateChange
	add	eax, 1
	mov	DWORD PTR ?RenderStateChange@@3JA, eax	; RenderStateChange
$L81769:

; 701  : 			ZBUFFER_OFF();

	movsx	eax, WORD PTR ?RenderZbuffer@@3FA	; RenderZbuffer
	test	eax, eax
	je	SHORT $L81770
	mov	WORD PTR ?RenderZbuffer@@3FA, 0		; RenderZbuffer
	movsx	eax, WORD PTR ?RenderZbuffer@@3FA	; RenderZbuffer
	push	eax
	push	7
	mov	ecx, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	mov	edx, DWORD PTR [ecx]
	mov	eax, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	push	eax
	call	DWORD PTR [edx+88]
	mov	eax, DWORD PTR ?RenderStateChange@@3JA	; RenderStateChange
	add	eax, 1
	mov	DWORD PTR ?RenderStateChange@@3JA, eax	; RenderStateChange
$L81770:

; 702  : 
; 703  : 			if (FileZoneAxisType)

	cmp	DWORD PTR _FileZoneAxisType, 0
	je	SHORT $L81771

; 704  : 				CopyMatrix(&IdentityMatrix, &mat);

	lea	eax, DWORD PTR _mat$[ebp]
	push	eax
	push	OFFSET FLAT:?IdentityMatrix@@3TMatrixUnion@@A ; IdentityMatrix
	call	?CopyMatrix@@YAXPATMatrixUnion@@0@Z	; CopyMatrix
	add	esp, 8

; 705  : 			else

	jmp	SHORT $L81772
$L81771:

; 706  : 				CopyMatrix(&CAM_MainCamera->WMatrix, &mat);

	lea	eax, DWORD PTR _mat$[ebp]
	push	eax
	mov	ecx, DWORD PTR ?CAM_MainCamera@@3PAUCameraStruct@@A ; CAM_MainCamera
	add	ecx, 16					; 00000010H
	push	ecx
	call	?CopyMatrix@@YAXPATMatrixUnion@@0@Z	; CopyMatrix
	add	esp, 8
$L81772:

; 707  : 
; 708  : 			MatMulScalar(&mat, 2.0f);

	push	1073741824				; 40000000H
	lea	eax, DWORD PTR _mat$[ebp]
	push	eax
	call	?MatMulScalar@@YAXPATMatrixUnion@@M@Z	; MatMulScalar
	add	esp, 8

; 709  : 			DrawAxis(&mat, &zone->Pos);

	mov	eax, DWORD PTR _zone$[ebp]
	add	eax, 4
	push	eax
	lea	ecx, DWORD PTR _mat$[ebp]
	push	ecx
	call	?DrawAxis@@YAXPATMatrixUnion@@PAUVectorStruct@@@Z ; DrawAxis
	add	esp, 8
$L81768:

; 710  : 		}
; 711  : 	}

	jmp	$L81745
$L81746:

; 712  : 
; 713  : // reset render states
; 714  : 
; 715  : 	WIREFRAME_ON();

	mov	eax, DWORD PTR ?DxState@@3UDX_STATE@@A+4
	push	eax
	push	8
	mov	ecx, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	mov	edx, DWORD PTR [ecx]
	mov	eax, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	push	eax
	call	DWORD PTR [edx+88]
	mov	eax, DWORD PTR ?RenderStateChange@@3JA	; RenderStateChange
	add	eax, 1
	mov	DWORD PTR ?RenderStateChange@@3JA, eax	; RenderStateChange

; 716  : 	ALPHA_OFF();

	movsx	eax, WORD PTR ?RenderAlpha@@3FA		; RenderAlpha
	test	eax, eax
	je	SHORT $L81773
	mov	WORD PTR ?RenderAlpha@@3FA, 0		; RenderAlpha
	movsx	eax, WORD PTR ?RenderAlpha@@3FA		; RenderAlpha
	push	eax
	push	27					; 0000001bH
	mov	ecx, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	mov	edx, DWORD PTR [ecx]
	mov	eax, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	push	eax
	call	DWORD PTR [edx+88]
	mov	eax, DWORD PTR ?RenderStateChange@@3JA	; RenderStateChange
	add	eax, 1
	mov	DWORD PTR ?RenderStateChange@@3JA, eax	; RenderStateChange
$L81773:

; 717  : 	ZBUFFER_ON();

	movsx	eax, WORD PTR ?RenderZbuffer@@3FA	; RenderZbuffer
	cmp	eax, 1
	je	SHORT $L81712
	mov	WORD PTR ?RenderZbuffer@@3FA, 1		; RenderZbuffer
	movsx	eax, WORD PTR ?RenderZbuffer@@3FA	; RenderZbuffer
	push	eax
	push	7
	mov	ecx, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	mov	edx, DWORD PTR [ecx]
	mov	eax, DWORD PTR ?D3Ddevice@@3PAUIDirect3DDevice3@@A ; D3Ddevice
	push	eax
	call	DWORD PTR [edx+88]
	mov	eax, DWORD PTR ?RenderStateChange@@3JA	; RenderStateChange
	add	eax, 1
	mov	DWORD PTR ?RenderStateChange@@3JA, eax	; RenderStateChange
$L81712:

; 718  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
?DrawFileZones@@YAXXZ ENDP				; DrawFileZones
_TEXT	ENDS
PUBLIC	?DisplayZoneInfo@@YAXPAUFILE_ZONE@@@Z		; DisplayZoneInfo
PUBLIC	??_C@_05FEDMHOOH@ID?5?$CFd?$AA@			; `string'
PUBLIC	??_C@_0N@MOINFLNL@Axis?5?$CFs?5?9?5?$CFs?$AA@	; `string'
PUBLIC	??_C@_03JJNBAPG@Yep?$AA@			; `string'
PUBLIC	??_C@_04PBCAPOCN@Nope?$AA@			; `string'
PUBLIC	??_C@_0BA@MOFAIBHL@Big?5Brother?3?5?$CFs?$AA@	; `string'
EXTRN	?DumpText@@YAXFFFFJPAD@Z:NEAR			; DumpText
;	COMDAT ??_C@_05FEDMHOOH@ID?5?$CFd?$AA@
CONST	SEGMENT
??_C@_05FEDMHOOH@ID?5?$CFd?$AA@ DB 'ID %d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@MOINFLNL@Axis?5?$CFs?5?9?5?$CFs?$AA@
CONST	SEGMENT
??_C@_0N@MOINFLNL@Axis?5?$CFs?5?9?5?$CFs?$AA@ DB 'Axis %s - %s', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_03JJNBAPG@Yep?$AA@
CONST	SEGMENT
??_C@_03JJNBAPG@Yep?$AA@ DB 'Yep', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_04PBCAPOCN@Nope?$AA@
CONST	SEGMENT
??_C@_04PBCAPOCN@Nope?$AA@ DB 'Nope', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@MOFAIBHL@Big?5Brother?3?5?$CFs?$AA@
CONST	SEGMENT
??_C@_0BA@MOFAIBHL@Big?5Brother?3?5?$CFs?$AA@ DB 'Big Brother: %s', 00H ; `string'
; Function compile flags: /Odt /ZI
CONST	ENDS
;	COMDAT ?DisplayZoneInfo@@YAXPAUFILE_ZONE@@@Z
_TEXT	SEGMENT
tv89 = -196						; size = 4
_buf$ = -128						; size = 128
_zone$ = 8						; size = 4
?DisplayZoneInfo@@YAXPAUFILE_ZONE@@@Z PROC NEAR		; DisplayZoneInfo, COMDAT

; 725  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 196				; 000000c4H
	push	ebx
	push	esi
	push	edi

; 726  : 	char buf[128];
; 727  : 
; 728  : // ID
; 729  : 
; 730  : 	wsprintf(buf, "ID %d", zone->ID);

	mov	eax, DWORD PTR _zone$[ebp]
	mov	ecx, DWORD PTR [eax]
	push	ecx
	push	OFFSET FLAT:??_C@_05FEDMHOOH@ID?5?$CFd?$AA@
	lea	edx, DWORD PTR _buf$[ebp]
	push	edx
	call	DWORD PTR __imp__wsprintfA
	add	esp, 12					; 0000000cH

; 731  : 	DumpText(450, 0, 8, 16, 0xffff00, buf);

	lea	eax, DWORD PTR _buf$[ebp]
	push	eax
	push	16776960				; 00ffff00H
	push	16					; 00000010H
	push	8
	push	0
	push	450					; 000001c2H
	call	?DumpText@@YAXFFFFJPAD@Z		; DumpText
	add	esp, 24					; 00000018H

; 732  : 
; 733  : // axis
; 734  : 
; 735  : 	wsprintf(buf, "Axis %s - %s", FileZoneAxisNames[FileZoneAxis], FileZoneAxisTypeNames[FileZoneAxisType]);

	mov	eax, DWORD PTR _FileZoneAxisType
	mov	ecx, DWORD PTR _FileZoneAxisTypeNames[eax*4]
	push	ecx
	mov	edx, DWORD PTR _FileZoneAxis
	mov	eax, DWORD PTR _FileZoneAxisNames[edx*4]
	push	eax
	push	OFFSET FLAT:??_C@_0N@MOINFLNL@Axis?5?$CFs?5?9?5?$CFs?$AA@
	lea	ecx, DWORD PTR _buf$[ebp]
	push	ecx
	call	DWORD PTR __imp__wsprintfA
	add	esp, 16					; 00000010H

; 736  : 	DumpText(450, 24, 8, 16, 0xff00ff, buf);

	lea	eax, DWORD PTR _buf$[ebp]
	push	eax
	push	16711935				; 00ff00ffH
	push	16					; 00000010H
	push	8
	push	24					; 00000018H
	push	450					; 000001c2H
	call	?DumpText@@YAXFFFFJPAD@Z		; DumpText
	add	esp, 24					; 00000018H

; 737  : 
; 738  : // big bastard
; 739  : 
; 740  : 	wsprintf(buf, "Big Brother: %s", BigBrother ? "Yep" : "Nope");

	cmp	DWORD PTR _BigBrother, 0
	je	SHORT $L81968
	mov	DWORD PTR tv89[ebp], OFFSET FLAT:??_C@_03JJNBAPG@Yep?$AA@
	jmp	SHORT $L81969
$L81968:
	mov	DWORD PTR tv89[ebp], OFFSET FLAT:??_C@_04PBCAPOCN@Nope?$AA@
$L81969:
	mov	eax, DWORD PTR tv89[ebp]
	push	eax
	push	OFFSET FLAT:??_C@_0BA@MOFAIBHL@Big?5Brother?3?5?$CFs?$AA@
	lea	ecx, DWORD PTR _buf$[ebp]
	push	ecx
	call	DWORD PTR __imp__wsprintfA
	add	esp, 12					; 0000000cH

; 741  : 	DumpText(450, 48, 8, 16, 0x00ffff, buf);

	lea	eax, DWORD PTR _buf$[ebp]
	push	eax
	push	65535					; 0000ffffH
	push	16					; 00000010H
	push	8
	push	48					; 00000030H
	push	450					; 000001c2H
	call	?DumpText@@YAXFFFFJPAD@Z		; DumpText
	add	esp, 24					; 00000018H

; 742  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
?DisplayZoneInfo@@YAXPAUFILE_ZONE@@@Z ENDP		; DisplayZoneInfo
_TEXT	ENDS
PUBLIC	?DisplayCurrentTrackZone@@YAXXZ			; DisplayCurrentTrackZone
PUBLIC	??_C@_07NPMMOABF@Zone?5?$CFd?$AA@		; `string'
EXTRN	?PLR_LocalPlayer@@3PAUPlayerStruct@@A:DWORD	; PLR_LocalPlayer
;	COMDAT ??_C@_07NPMMOABF@Zone?5?$CFd?$AA@
CONST	SEGMENT
??_C@_07NPMMOABF@Zone?5?$CFd?$AA@ DB 'Zone %d', 00H	; `string'
; Function compile flags: /Odt /ZI
CONST	ENDS
;	COMDAT ?DisplayCurrentTrackZone@@YAXXZ
_TEXT	SEGMENT
_buf$ = -128						; size = 128
?DisplayCurrentTrackZone@@YAXXZ PROC NEAR		; DisplayCurrentTrackZone, COMDAT

; 749  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 192				; 000000c0H
	push	ebx
	push	esi
	push	edi

; 750  : 	char buf[128];
; 751  : 
; 752  : 	wsprintf(buf, "Zone %d", PLR_LocalPlayer->CarAI.ZoneID);

	mov	eax, DWORD PTR ?PLR_LocalPlayer@@3PAUPlayerStruct@@A ; PLR_LocalPlayer
	mov	ecx, DWORD PTR [eax+10120]
	push	ecx
	push	OFFSET FLAT:??_C@_07NPMMOABF@Zone?5?$CFd?$AA@
	lea	edx, DWORD PTR _buf$[ebp]
	push	edx
	call	DWORD PTR __imp__wsprintfA
	add	esp, 12					; 0000000cH

; 753  : 	DumpText(0, 128, 8, 16, 0xffffff, buf);

	lea	eax, DWORD PTR _buf$[ebp]
	push	eax
	push	16777215				; 00ffffffH
	push	16					; 00000010H
	push	8
	push	128					; 00000080H
	push	0
	call	?DumpText@@YAXFFFFJPAD@Z		; DumpText
	add	esp, 24					; 00000018H

; 754  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
?DisplayCurrentTrackZone@@YAXXZ ENDP			; DisplayCurrentTrackZone
_TEXT	ENDS
END
